# Use the official Python image from the Docker Hub
FROM python:3.8-slim

# Install necessary system packages
RUN apt-get update && \
    apt-get install -y git && \
    rm -rf /var/lib/apt/lists/*

# Set the working directory
WORKDIR /app

# Clone the repository
RUN git clone https://github.com/nvbn/thefuck.git

# Change to the cloned repository directory
WORKDIR /app/thefuck

# Install the dependencies
RUN pip install --no-cache-dir -r requirements.txt

# Explicitly install the missing dependency 'psutil'
RUN pip install --no-cache-dir psutil

# Install pytest and other dev dependencies if necessary
RUN pip install --no-cache-dir pytest

# Run the tests
RUN pytest

# Set default command (optional)
CMD ["/bin/bash"]

machine already started
TEMP DIR: /tmp/tmp.KaVPum9cur


setup repo.
Warning: Permanently added '[localhost]:3022' (ED25519) to the list of known hosts.
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 766B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 2B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/python:3.8-slim
#3 DONE 1.0s

#4 [1/9] FROM docker.io/library/python:3.8-slim@sha256:7bf69df66220a003f4bced42f14f1db954aa881e76d501853a7849bc5e0383ff
#4 CACHED

#5 [2/9] RUN apt-get update &&     apt-get install -y git &&     rm -rf /var/lib/apt/lists/*
#5 0.302 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#5 0.349 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#5 0.393 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#5 0.415 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8788 kB]
#5 3.269 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [13.8 kB]
#5 3.275 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [164 kB]
#5 3.982 Fetched 9220 kB in 4s (2472 kB/s)
#5 3.982 Reading package lists...
#5 4.368 Reading package lists...
#5 4.736 Building dependency tree...
#5 4.827 Reading state information...
#5 4.925 The following additional packages will be installed:
#5 4.926   git-man less libbrotli1 libbsd0 libcbor0.8 libcurl3-gnutls libedit2
#5 4.926   liberror-perl libfido2-1 libgdbm-compat4 libldap-2.5-0 libldap-common
#5 4.926   libnghttp2-14 libperl5.36 libpsl5 librtmp1 libsasl2-2 libsasl2-modules
#5 4.926   libsasl2-modules-db libssh2-1 libx11-6 libx11-data libxau6 libxcb1 libxdmcp6
#5 4.927   libxext6 libxmuu1 openssh-client patch perl perl-modules-5.36 publicsuffix
#5 4.927   xauth
#5 4.928 Suggested packages:
#5 4.929   gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-email git-gui
#5 4.929   gitk gitweb git-cvs git-mediawiki git-svn sensible-utils
#5 4.929   libsasl2-modules-gssapi-mit | libsasl2-modules-gssapi-heimdal
#5 4.929   libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql keychain
#5 4.929   libpam-ssh monkeysphere ssh-askpass ed diffutils-doc perl-doc
#5 4.929   libterm-readline-gnu-perl | libterm-readline-perl-perl make
#5 4.930   libtap-harness-archive-perl
#5 5.067 The following NEW packages will be installed:
#5 5.069   git git-man less libbrotli1 libbsd0 libcbor0.8 libcurl3-gnutls libedit2
#5 5.069   liberror-perl libfido2-1 libgdbm-compat4 libldap-2.5-0 libldap-common
#5 5.070   libnghttp2-14 libperl5.36 libpsl5 librtmp1 libsasl2-2 libsasl2-modules
#5 5.070   libsasl2-modules-db libssh2-1 libx11-6 libx11-data libxau6 libxcb1 libxdmcp6
#5 5.070   libxext6 libxmuu1 openssh-client patch perl perl-modules-5.36 publicsuffix
#5 5.070   xauth
#5 5.103 0 upgraded, 34 newly installed, 0 to remove and 0 not upgraded.
#5 5.103 Need to get 21.0 MB of archives.
#5 5.103 After this operation, 112 MB of additional disk space will be used.
#5 5.103 Get:1 http://deb.debian.org/debian bookworm/main amd64 perl-modules-5.36 all 5.36.0-7+deb12u1 [2815 kB]
#5 6.113 Get:2 http://deb.debian.org/debian bookworm/main amd64 libgdbm-compat4 amd64 1.23-3 [48.2 kB]
#5 6.126 Get:3 http://deb.debian.org/debian bookworm/main amd64 libperl5.36 amd64 5.36.0-7+deb12u1 [4218 kB]
#5 7.433 Get:4 http://deb.debian.org/debian bookworm/main amd64 perl amd64 5.36.0-7+deb12u1 [239 kB]
#5 7.534 Get:5 http://deb.debian.org/debian bookworm/main amd64 less amd64 590-2.1~deb12u2 [132 kB]
#5 7.604 Get:6 http://deb.debian.org/debian bookworm/main amd64 libbsd0 amd64 0.11.7-2 [117 kB]
#5 7.635 Get:7 http://deb.debian.org/debian bookworm/main amd64 libedit2 amd64 3.1-20221030-2 [93.0 kB]
#5 7.666 Get:8 http://deb.debian.org/debian bookworm/main amd64 libcbor0.8 amd64 0.8.0-2+b1 [27.4 kB]
#5 7.667 Get:9 http://deb.debian.org/debian bookworm/main amd64 libfido2-1 amd64 1.12.0-2+b1 [77.2 kB]
#5 7.681 Get:10 http://deb.debian.org/debian-security bookworm-security/main amd64 openssh-client amd64 1:9.2p1-2+deb12u3 [991 kB]
#5 8.018 Get:11 http://deb.debian.org/debian bookworm/main amd64 libbrotli1 amd64 1.0.9-2+b6 [275 kB]
#5 8.124 Get:12 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules-db amd64 2.1.28+dfsg-10 [20.3 kB]
#5 8.133 Get:13 http://deb.debian.org/debian bookworm/main amd64 libsasl2-2 amd64 2.1.28+dfsg-10 [59.7 kB]
#5 8.151 Get:14 http://deb.debian.org/debian bookworm/main amd64 libldap-2.5-0 amd64 2.5.13+dfsg-5 [183 kB]
#5 8.266 Get:15 http://deb.debian.org/debian bookworm/main amd64 libnghttp2-14 amd64 1.52.0-1+deb12u1 [72.4 kB]
#5 8.267 Get:16 http://deb.debian.org/debian bookworm/main amd64 libpsl5 amd64 0.21.2-1 [58.7 kB]
#5 8.268 Get:17 http://deb.debian.org/debian bookworm/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2+b2 [60.8 kB]
#5 8.270 Get:18 http://deb.debian.org/debian bookworm/main amd64 libssh2-1 amd64 1.10.0-3+b1 [179 kB]
#5 8.321 Get:19 http://deb.debian.org/debian bookworm/main amd64 libcurl3-gnutls amd64 7.88.1-10+deb12u6 [385 kB]
#5 8.445 Get:20 http://deb.debian.org/debian bookworm/main amd64 liberror-perl all 0.17029-2 [29.0 kB]
#5 8.456 Get:21 http://deb.debian.org/debian bookworm/main amd64 git-man all 1:2.39.2-1.1 [2049 kB]
#5 9.080 Get:22 http://deb.debian.org/debian bookworm/main amd64 git amd64 1:2.39.2-1.1 [7171 kB]
#5 11.22 Get:23 http://deb.debian.org/debian bookworm/main amd64 libldap-common all 2.5.13+dfsg-5 [29.3 kB]
#5 11.23 Get:24 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules amd64 2.1.28+dfsg-10 [66.6 kB]
#5 11.25 Get:25 http://deb.debian.org/debian bookworm/main amd64 libxau6 amd64 1:1.0.9-1 [19.7 kB]
#5 11.25 Get:26 http://deb.debian.org/debian bookworm/main amd64 libxdmcp6 amd64 1:1.1.2-3 [26.3 kB]
#5 11.26 Get:27 http://deb.debian.org/debian bookworm/main amd64 libxcb1 amd64 1.15-1 [144 kB]
#5 11.30 Get:28 http://deb.debian.org/debian bookworm/main amd64 libx11-data all 2:1.8.4-2+deb12u2 [292 kB]
#5 11.38 Get:29 http://deb.debian.org/debian bookworm/main amd64 libx11-6 amd64 2:1.8.4-2+deb12u2 [760 kB]
#5 11.61 Get:30 http://deb.debian.org/debian bookworm/main amd64 libxext6 amd64 2:1.3.4-1+b1 [52.9 kB]
#5 11.63 Get:31 http://deb.debian.org/debian bookworm/main amd64 libxmuu1 amd64 2:1.1.3-3 [23.9 kB]
#5 11.63 Get:32 http://deb.debian.org/debian bookworm/main amd64 patch amd64 2.7.6-7 [128 kB]
#5 11.66 Get:33 http://deb.debian.org/debian bookworm/main amd64 publicsuffix all 20230209.2326-1 [126 kB]
#5 11.68 Get:34 http://deb.debian.org/debian bookworm/main amd64 xauth amd64 1:1.1.2-1 [36.0 kB]
#5 11.80 debconf: delaying package configuration, since apt-utils is not installed
#5 11.83 Fetched 21.0 MB in 7s (3172 kB/s)
#5 11.86 Selecting previously unselected package perl-modules-5.36.
#5 11.86 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 6696 files and directories currently installed.)
#5 11.87 Preparing to unpack .../00-perl-modules-5.36_5.36.0-7+deb12u1_all.deb ...
#5 11.88 Unpacking perl-modules-5.36 (5.36.0-7+deb12u1) ...
#5 12.29 Selecting previously unselected package libgdbm-compat4:amd64.
#5 12.30 Preparing to unpack .../01-libgdbm-compat4_1.23-3_amd64.deb ...
#5 12.32 Unpacking libgdbm-compat4:amd64 (1.23-3) ...
#5 12.45 Selecting previously unselected package libperl5.36:amd64.
#5 12.46 Preparing to unpack .../02-libperl5.36_5.36.0-7+deb12u1_amd64.deb ...
#5 12.48 Unpacking libperl5.36:amd64 (5.36.0-7+deb12u1) ...
#5 12.93 Selecting previously unselected package perl.
#5 12.93 Preparing to unpack .../03-perl_5.36.0-7+deb12u1_amd64.deb ...
#5 12.95 Unpacking perl (5.36.0-7+deb12u1) ...
#5 13.07 Selecting previously unselected package less.
#5 13.08 Preparing to unpack .../04-less_590-2.1~deb12u2_amd64.deb ...
#5 13.09 Unpacking less (590-2.1~deb12u2) ...
#5 13.23 Selecting previously unselected package libbsd0:amd64.
#5 13.24 Preparing to unpack .../05-libbsd0_0.11.7-2_amd64.deb ...
#5 13.26 Unpacking libbsd0:amd64 (0.11.7-2) ...
#5 13.37 Selecting previously unselected package libedit2:amd64.
#5 13.37 Preparing to unpack .../06-libedit2_3.1-20221030-2_amd64.deb ...
#5 13.38 Unpacking libedit2:amd64 (3.1-20221030-2) ...
#5 13.48 Selecting previously unselected package libcbor0.8:amd64.
#5 13.48 Preparing to unpack .../07-libcbor0.8_0.8.0-2+b1_amd64.deb ...
#5 13.50 Unpacking libcbor0.8:amd64 (0.8.0-2+b1) ...
#5 13.62 Selecting previously unselected package libfido2-1:amd64.
#5 13.63 Preparing to unpack .../08-libfido2-1_1.12.0-2+b1_amd64.deb ...
#5 13.64 Unpacking libfido2-1:amd64 (1.12.0-2+b1) ...
#5 13.78 Selecting previously unselected package openssh-client.
#5 13.79 Preparing to unpack .../09-openssh-client_1%3a9.2p1-2+deb12u3_amd64.deb ...
#5 13.83 Unpacking openssh-client (1:9.2p1-2+deb12u3) ...
#5 13.99 Selecting previously unselected package libbrotli1:amd64.
#5 13.99 Preparing to unpack .../10-libbrotli1_1.0.9-2+b6_amd64.deb ...
#5 14.01 Unpacking libbrotli1:amd64 (1.0.9-2+b6) ...
#5 14.11 Selecting previously unselected package libsasl2-modules-db:amd64.
#5 14.11 Preparing to unpack .../11-libsasl2-modules-db_2.1.28+dfsg-10_amd64.deb ...
#5 14.13 Unpacking libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
#5 14.22 Selecting previously unselected package libsasl2-2:amd64.
#5 14.22 Preparing to unpack .../12-libsasl2-2_2.1.28+dfsg-10_amd64.deb ...
#5 14.24 Unpacking libsasl2-2:amd64 (2.1.28+dfsg-10) ...
#5 14.38 Selecting previously unselected package libldap-2.5-0:amd64.
#5 14.39 Preparing to unpack .../13-libldap-2.5-0_2.5.13+dfsg-5_amd64.deb ...
#5 14.41 Unpacking libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
#5 14.53 Selecting previously unselected package libnghttp2-14:amd64.
#5 14.53 Preparing to unpack .../14-libnghttp2-14_1.52.0-1+deb12u1_amd64.deb ...
#5 14.54 Unpacking libnghttp2-14:amd64 (1.52.0-1+deb12u1) ...
#5 14.66 Selecting previously unselected package libpsl5:amd64.
#5 14.67 Preparing to unpack .../15-libpsl5_0.21.2-1_amd64.deb ...
#5 14.69 Unpacking libpsl5:amd64 (0.21.2-1) ...
#5 14.81 Selecting previously unselected package librtmp1:amd64.
#5 14.82 Preparing to unpack .../16-librtmp1_2.4+20151223.gitfa8646d.1-2+b2_amd64.deb ...
#5 14.83 Unpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#5 14.93 Selecting previously unselected package libssh2-1:amd64.
#5 14.94 Preparing to unpack .../17-libssh2-1_1.10.0-3+b1_amd64.deb ...
#5 14.96 Unpacking libssh2-1:amd64 (1.10.0-3+b1) ...
#5 15.07 Selecting previously unselected package libcurl3-gnutls:amd64.
#5 15.08 Preparing to unpack .../18-libcurl3-gnutls_7.88.1-10+deb12u6_amd64.deb ...
#5 15.09 Unpacking libcurl3-gnutls:amd64 (7.88.1-10+deb12u6) ...
#5 15.18 Selecting previously unselected package liberror-perl.
#5 15.18 Preparing to unpack .../19-liberror-perl_0.17029-2_all.deb ...
#5 15.19 Unpacking liberror-perl (0.17029-2) ...
#5 15.28 Selecting previously unselected package git-man.
#5 15.28 Preparing to unpack .../20-git-man_1%3a2.39.2-1.1_all.deb ...
#5 15.30 Unpacking git-man (1:2.39.2-1.1) ...
#5 15.51 Selecting previously unselected package git.
#5 15.51 Preparing to unpack .../21-git_1%3a2.39.2-1.1_amd64.deb ...
#5 15.55 Unpacking git (1:2.39.2-1.1) ...
#5 16.14 Selecting previously unselected package libldap-common.
#5 16.14 Preparing to unpack .../22-libldap-common_2.5.13+dfsg-5_all.deb ...
#5 16.15 Unpacking libldap-common (2.5.13+dfsg-5) ...
#5 16.24 Selecting previously unselected package libsasl2-modules:amd64.
#5 16.24 Preparing to unpack .../23-libsasl2-modules_2.1.28+dfsg-10_amd64.deb ...
#5 16.26 Unpacking libsasl2-modules:amd64 (2.1.28+dfsg-10) ...
#5 16.37 Selecting previously unselected package libxau6:amd64.
#5 16.38 Preparing to unpack .../24-libxau6_1%3a1.0.9-1_amd64.deb ...
#5 16.40 Unpacking libxau6:amd64 (1:1.0.9-1) ...
#5 16.51 Selecting previously unselected package libxdmcp6:amd64.
#5 16.51 Preparing to unpack .../25-libxdmcp6_1%3a1.1.2-3_amd64.deb ...
#5 16.53 Unpacking libxdmcp6:amd64 (1:1.1.2-3) ...
#5 16.61 Selecting previously unselected package libxcb1:amd64.
#5 16.62 Preparing to unpack .../26-libxcb1_1.15-1_amd64.deb ...
#5 16.63 Unpacking libxcb1:amd64 (1.15-1) ...
#5 16.70 Selecting previously unselected package libx11-data.
#5 16.70 Preparing to unpack .../27-libx11-data_2%3a1.8.4-2+deb12u2_all.deb ...
#5 16.72 Unpacking libx11-data (2:1.8.4-2+deb12u2) ...
#5 16.84 Selecting previously unselected package libx11-6:amd64.
#5 16.84 Preparing to unpack .../28-libx11-6_2%3a1.8.4-2+deb12u2_amd64.deb ...
#5 16.85 Unpacking libx11-6:amd64 (2:1.8.4-2+deb12u2) ...
#5 16.97 Selecting previously unselected package libxext6:amd64.
#5 16.97 Preparing to unpack .../29-libxext6_2%3a1.3.4-1+b1_amd64.deb ...
#5 16.98 Unpacking libxext6:amd64 (2:1.3.4-1+b1) ...
#5 17.10 Selecting previously unselected package libxmuu1:amd64.
#5 17.10 Preparing to unpack .../30-libxmuu1_2%3a1.1.3-3_amd64.deb ...
#5 17.12 Unpacking libxmuu1:amd64 (2:1.1.3-3) ...
#5 17.23 Selecting previously unselected package patch.
#5 17.23 Preparing to unpack .../31-patch_2.7.6-7_amd64.deb ...
#5 17.25 Unpacking patch (2.7.6-7) ...
#5 17.34 Selecting previously unselected package publicsuffix.
#5 17.34 Preparing to unpack .../32-publicsuffix_20230209.2326-1_all.deb ...
#5 17.35 Unpacking publicsuffix (20230209.2326-1) ...
#5 17.43 Selecting previously unselected package xauth.
#5 17.43 Preparing to unpack .../33-xauth_1%3a1.1.2-1_amd64.deb ...
#5 17.44 Unpacking xauth (1:1.1.2-1) ...
#5 17.55 Setting up libxau6:amd64 (1:1.0.9-1) ...
#5 17.59 Setting up libpsl5:amd64 (0.21.2-1) ...
#5 17.63 Setting up libcbor0.8:amd64 (0.8.0-2+b1) ...
#5 17.68 Setting up libbrotli1:amd64 (1.0.9-2+b6) ...
#5 17.74 Setting up libsasl2-modules:amd64 (2.1.28+dfsg-10) ...
#5 17.81 Setting up libnghttp2-14:amd64 (1.52.0-1+deb12u1) ...
#5 17.85 Setting up less (590-2.1~deb12u2) ...
#5 17.93 Setting up libldap-common (2.5.13+dfsg-5) ...
#5 18.01 Setting up libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
#5 18.06 Setting up perl-modules-5.36 (5.36.0-7+deb12u1) ...
#5 18.12 Setting up libx11-data (2:1.8.4-2+deb12u2) ...
#5 18.18 Setting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#5 18.24 Setting up patch (2.7.6-7) ...
#5 18.27 Setting up libgdbm-compat4:amd64 (1.23-3) ...
#5 18.30 Setting up libsasl2-2:amd64 (2.1.28+dfsg-10) ...
#5 18.33 Setting up git-man (1:2.39.2-1.1) ...
#5 18.38 Setting up libssh2-1:amd64 (1.10.0-3+b1) ...
#5 18.43 Setting up libfido2-1:amd64 (1.12.0-2+b1) ...
#5 18.49 Setting up libbsd0:amd64 (0.11.7-2) ...
#5 18.54 Setting up publicsuffix (20230209.2326-1) ...
#5 18.60 Setting up libperl5.36:amd64 (5.36.0-7+deb12u1) ...
#5 18.66 Setting up libxdmcp6:amd64 (1:1.1.2-3) ...
#5 18.72 Setting up libxcb1:amd64 (1.15-1) ...
#5 18.78 Setting up libedit2:amd64 (3.1-20221030-2) ...
#5 18.83 Setting up libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
#5 18.89 Setting up perl (5.36.0-7+deb12u1) ...
#5 18.99 Setting up libx11-6:amd64 (2:1.8.4-2+deb12u2) ...
#5 19.03 Setting up libxmuu1:amd64 (2:1.1.3-3) ...
#5 19.09 Setting up openssh-client (1:9.2p1-2+deb12u3) ...
#5 19.26 Setting up libxext6:amd64 (2:1.3.4-1+b1) ...
#5 19.29 Setting up libcurl3-gnutls:amd64 (7.88.1-10+deb12u6) ...
#5 19.31 Setting up liberror-perl (0.17029-2) ...
#5 19.34 Setting up git (1:2.39.2-1.1) ...
#5 19.39 Setting up xauth (1:1.1.2-1) ...
#5 19.43 Processing triggers for libc-bin (2.36-9+deb12u7) ...
#5 DONE 19.6s

#6 [3/9] WORKDIR /app
#6 DONE 0.1s

#7 [4/9] RUN git clone https://github.com/nvbn/thefuck.git
#7 0.218 Cloning into 'thefuck'...
#7 DONE 2.9s

#8 [5/9] WORKDIR /app/thefuck
#8 DONE 0.1s

#9 [6/9] RUN pip install --no-cache-dir -r requirements.txt
#9 1.527 Collecting flake8
#9 1.621   Downloading flake8-7.1.0-py2.py3-none-any.whl (57 kB)
#9 1.646      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 57.6/57.6 kB 2.8 MB/s eta 0:00:00
#9 1.774 Collecting pytest
#9 1.783   Downloading pytest-8.2.2-py3-none-any.whl (339 kB)
#9 2.080      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 339.9/339.9 kB 1.2 MB/s eta 0:00:00
#9 2.128 Collecting mock
#9 2.138   Downloading mock-5.1.0-py3-none-any.whl (30 kB)
#9 2.191 Collecting pytest-mock
#9 2.201   Downloading pytest_mock-3.14.0-py3-none-any.whl (9.9 kB)
#9 2.204 Requirement already satisfied: wheel in /usr/local/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (0.43.0)
#9 2.205 Requirement already satisfied: setuptools>=17.1 in /usr/local/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (57.5.0)
#9 2.226 Collecting pexpect
#9 2.236   Downloading pexpect-4.9.0-py2.py3-none-any.whl (63 kB)
#9 2.264      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 63.8/63.8 kB 2.6 MB/s eta 0:00:00
#9 2.304 Collecting pypandoc
#9 2.313   Downloading pypandoc-1.13-py3-none-any.whl (21 kB)
#9 2.350 Collecting pytest-benchmark
#9 2.367   Downloading pytest_benchmark-4.0.0-py3-none-any.whl (43 kB)
#9 2.382      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 44.0/44.0 kB 3.1 MB/s eta 0:00:00
#9 2.429 Collecting pytest-docker-pexpect
#9 2.441   Downloading pytest_docker_pexpect-0.9-py3-none-any.whl (3.8 kB)
#9 2.478 Collecting twine
#9 2.487   Downloading twine-5.1.1-py3-none-any.whl (38 kB)
#9 2.537 Collecting mccabe<0.8.0,>=0.7.0
#9 2.548   Downloading mccabe-0.7.0-py2.py3-none-any.whl (7.3 kB)
#9 2.577 Collecting pyflakes<3.3.0,>=3.2.0
#9 2.596   Downloading pyflakes-3.2.0-py2.py3-none-any.whl (62 kB)
#9 2.612      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.7/62.7 kB 4.1 MB/s eta 0:00:00
#9 2.644 Collecting pycodestyle<2.13.0,>=2.12.0
#9 2.657   Downloading pycodestyle-2.12.0-py2.py3-none-any.whl (31 kB)
#9 2.699 Collecting exceptiongroup>=1.0.0rc8
#9 2.713   Downloading exceptiongroup-1.2.1-py3-none-any.whl (16 kB)
#9 2.753 Collecting packaging
#9 2.762   Downloading packaging-24.1-py3-none-any.whl (53 kB)
#9 2.780      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.0/54.0 kB 7.5 MB/s eta 0:00:00
#9 2.834 Collecting iniconfig
#9 2.844   Downloading iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#9 2.876 Collecting pluggy<2.0,>=1.5
#9 2.890   Downloading pluggy-1.5.0-py3-none-any.whl (20 kB)
#9 2.941 Collecting tomli>=1
#9 2.952   Downloading tomli-2.0.1-py3-none-any.whl (12 kB)
#9 3.021 Collecting ptyprocess>=0.5
#9 3.034   Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)
#9 3.067 Collecting py-cpuinfo
#9 3.126   Downloading py_cpuinfo-9.0.0-py3-none-any.whl (22 kB)
#9 3.187 Collecting six
#9 3.198   Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)
#9 3.240 Collecting readme-renderer>=35.0
#9 3.249   Downloading readme_renderer-43.0-py3-none-any.whl (13 kB)
#9 3.282 Collecting pkginfo<1.11
#9 3.291   Downloading pkginfo-1.10.0-py3-none-any.whl (30 kB)
#9 3.364 Collecting requests>=2.20
#9 3.373   Downloading requests-2.32.3-py3-none-any.whl (64 kB)
#9 3.391      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.9/64.9 kB 4.0 MB/s eta 0:00:00
#9 3.467 Collecting keyring>=15.1
#9 3.488   Downloading keyring-25.2.1-py3-none-any.whl (38 kB)
#9 3.558 Collecting requests-toolbelt!=0.9.0,>=0.8.0
#9 3.568   Downloading requests_toolbelt-1.0.0-py2.py3-none-any.whl (54 kB)
#9 3.584      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.5/54.5 kB 11.5 MB/s eta 0:00:00
#9 3.620 Collecting rfc3986>=1.4.0
#9 3.630   Downloading rfc3986-2.0.0-py2.py3-none-any.whl (31 kB)
#9 3.700 Collecting urllib3>=1.26.0
#9 3.718   Downloading urllib3-2.2.2-py3-none-any.whl (121 kB)
#9 3.764      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 121.4/121.4 kB 2.8 MB/s eta 0:00:00
#9 3.881 Collecting rich>=12.0.0
#9 3.890   Downloading rich-13.7.1-py3-none-any.whl (240 kB)
#9 3.965      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 240.7/240.7 kB 3.5 MB/s eta 0:00:00
#9 4.065 Collecting importlib-metadata>=3.6
#9 4.074   Downloading importlib_metadata-8.0.0-py3-none-any.whl (24 kB)
#9 4.165 Collecting zipp>=0.5
#9 4.174   Downloading zipp-3.19.2-py3-none-any.whl (9.0 kB)
#9 4.218 Collecting jaraco.classes
#9 4.226   Downloading jaraco.classes-3.4.0-py3-none-any.whl (6.8 kB)
#9 4.280 Collecting importlib-resources
#9 4.293   Downloading importlib_resources-6.4.0-py3-none-any.whl (38 kB)
#9 4.368 Collecting jaraco.context
#9 4.386   Downloading jaraco.context-5.3.0-py3-none-any.whl (6.5 kB)
#9 4.416 Collecting SecretStorage>=3.2
#9 4.426   Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)
#9 4.492 Collecting jaraco.functools
#9 4.502   Downloading jaraco.functools-4.0.1-py3-none-any.whl (9.8 kB)
#9 4.556 Collecting jeepney>=0.4.2
#9 4.566   Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)
#9 4.578      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.4/48.4 kB 5.1 MB/s eta 0:00:00
#9 4.671 Collecting nh3>=0.2.14
#9 4.680   Downloading nh3-0.2.17-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (777 kB)
#9 4.906      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 777.1/777.1 kB 3.5 MB/s eta 0:00:00
#9 4.951 Collecting docutils>=0.13.1
#9 4.960   Downloading docutils-0.20.1-py3-none-any.whl (572 kB)
#9 5.150      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 572.7/572.7 kB 3.0 MB/s eta 0:00:00
#9 5.196 Collecting Pygments>=2.5.1
#9 5.205   Downloading pygments-2.18.0-py3-none-any.whl (1.2 MB)
#9 5.686      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 2.5 MB/s eta 0:00:00
#9 5.738 Collecting idna<4,>=2.5
#9 5.746   Downloading idna-3.7-py3-none-any.whl (66 kB)
#9 5.772      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 66.8/66.8 kB 4.3 MB/s eta 0:00:00
#9 5.933 Collecting charset-normalizer<4,>=2
#9 5.945   Downloading charset_normalizer-3.3.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (141 kB)
#9 5.990      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 141.1/141.1 kB 5.1 MB/s eta 0:00:00
#9 6.031 Collecting certifi>=2017.4.17
#9 6.067   Downloading certifi-2024.6.2-py3-none-any.whl (164 kB)
#9 6.113      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 164.4/164.4 kB 4.0 MB/s eta 0:00:00
#9 6.177 Collecting typing-extensions<5.0,>=4.0.0
#9 6.187   Downloading typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#9 6.262 Collecting markdown-it-py>=2.2.0
#9 6.274   Downloading markdown_it_py-3.0.0-py3-none-any.whl (87 kB)
#9 6.302      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 87.5/87.5 kB 3.5 MB/s eta 0:00:00
#9 6.386 Collecting mdurl~=0.1
#9 6.394   Downloading mdurl-0.1.2-py3-none-any.whl (10.0 kB)
#9 6.852 Collecting cryptography>=2.0
#9 6.861   Downloading cryptography-42.0.8-cp37-abi3-manylinux_2_28_x86_64.whl (3.9 MB)
#9 8.103      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.9/3.9 MB 3.1 MB/s eta 0:00:00
#9 8.202 Collecting more-itertools
#9 8.215   Downloading more_itertools-10.3.0-py3-none-any.whl (59 kB)
#9 8.237      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.2/59.2 kB 2.6 MB/s eta 0:00:00
#9 8.270 Collecting backports.tarfile
#9 8.278   Downloading backports.tarfile-1.2.0-py3-none-any.whl (30 kB)
#9 8.568 Collecting cffi>=1.12
#9 8.577   Downloading cffi-1.16.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (444 kB)
#9 8.698      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 444.7/444.7 kB 3.7 MB/s eta 0:00:00
#9 8.751 Collecting pycparser
#9 8.759   Downloading pycparser-2.22-py3-none-any.whl (117 kB)
#9 8.784      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 117.6/117.6 kB 5.4 MB/s eta 0:00:00
#9 9.020 Installing collected packages: py-cpuinfo, ptyprocess, nh3, zipp, urllib3, typing-extensions, tomli, six, rfc3986, pypandoc, Pygments, pyflakes, pycparser, pycodestyle, pluggy, pkginfo, pexpect, packaging, more-itertools, mock, mdurl, mccabe, jeepney, iniconfig, idna, exceptiongroup, docutils, charset-normalizer, certifi, backports.tarfile, requests, readme-renderer, pytest, markdown-it-py, jaraco.functools, jaraco.context, jaraco.classes, importlib-resources, importlib-metadata, flake8, cffi, rich, requests-toolbelt, pytest-mock, pytest-docker-pexpect, pytest-benchmark, cryptography, SecretStorage, keyring, twine
#9 11.48 Successfully installed Pygments-2.18.0 SecretStorage-3.3.3 backports.tarfile-1.2.0 certifi-2024.6.2 cffi-1.16.0 charset-normalizer-3.3.2 cryptography-42.0.8 docutils-0.20.1 exceptiongroup-1.2.1 flake8-7.1.0 idna-3.7 importlib-metadata-8.0.0 importlib-resources-6.4.0 iniconfig-2.0.0 jaraco.classes-3.4.0 jaraco.context-5.3.0 jaraco.functools-4.0.1 jeepney-0.8.0 keyring-25.2.1 markdown-it-py-3.0.0 mccabe-0.7.0 mdurl-0.1.2 mock-5.1.0 more-itertools-10.3.0 nh3-0.2.17 packaging-24.1 pexpect-4.9.0 pkginfo-1.10.0 pluggy-1.5.0 ptyprocess-0.7.0 py-cpuinfo-9.0.0 pycodestyle-2.12.0 pycparser-2.22 pyflakes-3.2.0 pypandoc-1.13 pytest-8.2.2 pytest-benchmark-4.0.0 pytest-docker-pexpect-0.9 pytest-mock-3.14.0 readme-renderer-43.0 requests-2.32.3 requests-toolbelt-1.0.0 rfc3986-2.0.0 rich-13.7.1 six-1.16.0 tomli-2.0.1 twine-5.1.1 typing-extensions-4.12.2 urllib3-2.2.2 zipp-3.19.2
#9 11.48 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 11.60 
#9 11.60 [notice] A new release of pip is available: 23.0.1 -> 24.1.1
#9 11.60 [notice] To update, run: pip install --upgrade pip
#9 DONE 11.8s

#10 [7/9] RUN pip install --no-cache-dir psutil
#10 0.848 Collecting psutil
#10 0.925   Downloading psutil-6.0.0-cp36-abi3-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (290 kB)
#10 1.036      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 290.5/290.5 kB 2.7 MB/s eta 0:00:00
#10 1.246 Installing collected packages: psutil
#10 1.379 Successfully installed psutil-6.0.0
#10 1.380 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#10 1.504 
#10 1.504 [notice] A new release of pip is available: 23.0.1 -> 24.1.1
#10 1.504 [notice] To update, run: pip install --upgrade pip
#10 DONE 1.6s

#11 [8/9] RUN pip install --no-cache-dir pytest
#11 0.551 Requirement already satisfied: pytest in /usr/local/lib/python3.8/site-packages (8.2.2)
#11 0.562 Requirement already satisfied: packaging in /usr/local/lib/python3.8/site-packages (from pytest) (24.1)
#11 0.563 Requirement already satisfied: tomli>=1 in /usr/local/lib/python3.8/site-packages (from pytest) (2.0.1)
#11 0.564 Requirement already satisfied: iniconfig in /usr/local/lib/python3.8/site-packages (from pytest) (2.0.0)
#11 0.565 Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /usr/local/lib/python3.8/site-packages (from pytest) (1.2.1)
#11 0.566 Requirement already satisfied: pluggy<2.0,>=1.5 in /usr/local/lib/python3.8/site-packages (from pytest) (1.5.0)
#11 0.757 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#11 0.884 
#11 0.884 [notice] A new release of pip is available: 23.0.1 -> 24.1.1
#11 0.884 [notice] To update, run: pip install --upgrade pip
#11 DONE 1.0s

#12 [9/9] RUN pytest
#12 0.566 ImportError while loading conftest '/app/thefuck/tests/conftest.py'.
#12 0.566 tests/conftest.py:3: in <module>
#12 0.566     from thefuck import shells
#12 0.566 thefuck/shells/__init__.py:7: in <module>
#12 0.566     from .bash import Bash
#12 0.566 thefuck/shells/bash.py:5: in <module>
#12 0.566     from ..conf import settings
#12 0.566 thefuck/conf.py:6: in <module>
#12 0.566     from .system import Path
#12 0.566 thefuck/system/__init__.py:7: in <module>
#12 0.566     from .unix import *  # noqa: F401,F403
#12 0.566 thefuck/system/unix.py:5: in <module>
#12 0.566     import colorama
#12 0.566 E   ModuleNotFoundError: No module named 'colorama'
#12 ERROR: process "/bin/sh -c pytest" did not complete successfully: exit code: 4
------
 > [9/9] RUN pytest:
0.566     from .bash import Bash
0.566 thefuck/shells/bash.py:5: in <module>
0.566     from ..conf import settings
0.566 thefuck/conf.py:6: in <module>
0.566     from .system import Path
0.566 thefuck/system/__init__.py:7: in <module>
0.566     from .unix import *  # noqa: F401,F403
0.566 thefuck/system/unix.py:5: in <module>
0.566     import colorama
0.566 E   ModuleNotFoundError: No module named 'colorama'
------
Dockerfile:28
--------------------
  26 |     
  27 |     # Run the tests
  28 | >>> RUN pytest
  29 |     
  30 |     # Set default command (optional)
--------------------
ERROR: failed to solve: process "/bin/sh -c pytest" did not complete successfully: exit code: 4
removing docker image...
clearing temp directory
