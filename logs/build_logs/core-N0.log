# Dockerfile to clone the Home Assistant core repository, set up the environment, and run tests

# Use an official Python runtime as a parent image
FROM python:3.9-slim

# Set environment variables
ENV PYTHONUNBUFFERED=1

# Install any needed packages specified in requirements.txt
RUN apt-get update && apt-get install -y \
    git \
    && rm -rf /var/lib/apt/lists/*

# Clone the repository
RUN git clone https://github.com/home-assistant/core.git

# Set working directory
WORKDIR /core

# Install the dependencies
RUN pip install --upgrade pip \
    && pip install -r requirements.txt

# Ensure pytest is installed (in case it is not included in dependencies)
RUN pip install pytest

# Run tests to verify that installation succeeds
RUN pytest

machine already started
TEMP DIR: /tmp/tmp.0Bc3tEo4RW


setup repo.
Warning: Permanently added '[localhost]:3022' (ED25519) to the list of known hosts.
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 787B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 2B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/python:3.9-slim
#3 DONE 1.7s

#4 [1/7] FROM docker.io/library/python:3.9-slim@sha256:451832461e0c1587078511b0a6ad35c3c0a010656b660f4f26ebfac0e723f7bf
#4 CACHED

#5 [2/7] RUN apt-get update && apt-get install -y     git     && rm -rf /var/lib/apt/lists/*
#5 0.661 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#5 0.921 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#5 1.062 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#5 1.221 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8788 kB]
#5 14.81 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [13.8 kB]
#5 14.86 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [164 kB]
#5 15.53 Fetched 9220 kB in 15s (601 kB/s)
#5 15.53 Reading package lists...
#5 15.91 Reading package lists...
#5 16.28 Building dependency tree...
#5 16.37 Reading state information...
#5 16.47 The following additional packages will be installed:
#5 16.47   git-man less libbrotli1 libbsd0 libcbor0.8 libcurl3-gnutls libedit2
#5 16.47   liberror-perl libfido2-1 libgdbm-compat4 libldap-2.5-0 libldap-common
#5 16.47   libnghttp2-14 libperl5.36 libpsl5 librtmp1 libsasl2-2 libsasl2-modules
#5 16.47   libsasl2-modules-db libssh2-1 libx11-6 libx11-data libxau6 libxcb1 libxdmcp6
#5 16.47   libxext6 libxmuu1 openssh-client patch perl perl-modules-5.36 publicsuffix
#5 16.47   xauth
#5 16.47 Suggested packages:
#5 16.47   gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-email git-gui
#5 16.47   gitk gitweb git-cvs git-mediawiki git-svn sensible-utils
#5 16.47   libsasl2-modules-gssapi-mit | libsasl2-modules-gssapi-heimdal
#5 16.47   libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql keychain
#5 16.47   libpam-ssh monkeysphere ssh-askpass ed diffutils-doc perl-doc
#5 16.47   libterm-readline-gnu-perl | libterm-readline-perl-perl make
#5 16.47   libtap-harness-archive-perl
#5 16.62 The following NEW packages will be installed:
#5 16.62   git git-man less libbrotli1 libbsd0 libcbor0.8 libcurl3-gnutls libedit2
#5 16.62   liberror-perl libfido2-1 libgdbm-compat4 libldap-2.5-0 libldap-common
#5 16.62   libnghttp2-14 libperl5.36 libpsl5 librtmp1 libsasl2-2 libsasl2-modules
#5 16.62   libsasl2-modules-db libssh2-1 libx11-6 libx11-data libxau6 libxcb1 libxdmcp6
#5 16.63   libxext6 libxmuu1 openssh-client patch perl perl-modules-5.36 publicsuffix
#5 16.63   xauth
#5 16.74 0 upgraded, 34 newly installed, 0 to remove and 0 not upgraded.
#5 16.74 Need to get 21.0 MB of archives.
#5 16.74 After this operation, 112 MB of additional disk space will be used.
#5 16.74 Get:1 http://deb.debian.org/debian bookworm/main amd64 perl-modules-5.36 all 5.36.0-7+deb12u1 [2815 kB]
#5 19.42 Get:2 http://deb.debian.org/debian bookworm/main amd64 libgdbm-compat4 amd64 1.23-3 [48.2 kB]
#5 19.46 Get:3 http://deb.debian.org/debian bookworm/main amd64 libperl5.36 amd64 5.36.0-7+deb12u1 [4218 kB]
#5 24.20 Get:4 http://deb.debian.org/debian bookworm/main amd64 perl amd64 5.36.0-7+deb12u1 [239 kB]
#5 24.39 Get:5 http://deb.debian.org/debian bookworm/main amd64 less amd64 590-2.1~deb12u2 [132 kB]
#5 24.52 Get:6 http://deb.debian.org/debian bookworm/main amd64 libbsd0 amd64 0.11.7-2 [117 kB]
#5 24.62 Get:7 http://deb.debian.org/debian bookworm/main amd64 libedit2 amd64 3.1-20221030-2 [93.0 kB]
#5 24.70 Get:8 http://deb.debian.org/debian bookworm/main amd64 libcbor0.8 amd64 0.8.0-2+b1 [27.4 kB]
#5 24.72 Get:9 http://deb.debian.org/debian bookworm/main amd64 libfido2-1 amd64 1.12.0-2+b1 [77.2 kB]
#5 24.80 Get:10 http://deb.debian.org/debian-security bookworm-security/main amd64 openssh-client amd64 1:9.2p1-2+deb12u3 [991 kB]
#5 25.71 Get:11 http://deb.debian.org/debian bookworm/main amd64 libbrotli1 amd64 1.0.9-2+b6 [275 kB]
#5 26.00 Get:12 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules-db amd64 2.1.28+dfsg-10 [20.3 kB]
#5 26.06 Get:13 http://deb.debian.org/debian bookworm/main amd64 libsasl2-2 amd64 2.1.28+dfsg-10 [59.7 kB]
#5 26.10 Get:14 http://deb.debian.org/debian bookworm/main amd64 libldap-2.5-0 amd64 2.5.13+dfsg-5 [183 kB]
#5 26.46 Get:15 http://deb.debian.org/debian bookworm/main amd64 libnghttp2-14 amd64 1.52.0-1+deb12u1 [72.4 kB]
#5 26.66 Get:16 http://deb.debian.org/debian bookworm/main amd64 libpsl5 amd64 0.21.2-1 [58.7 kB]
#5 26.73 Get:17 http://deb.debian.org/debian bookworm/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2+b2 [60.8 kB]
#5 26.93 Get:18 http://deb.debian.org/debian bookworm/main amd64 libssh2-1 amd64 1.10.0-3+b1 [179 kB]
#5 27.04 Get:19 http://deb.debian.org/debian bookworm/main amd64 libcurl3-gnutls amd64 7.88.1-10+deb12u6 [385 kB]
#5 27.38 Get:20 http://deb.debian.org/debian bookworm/main amd64 liberror-perl all 0.17029-2 [29.0 kB]
#5 27.40 Get:21 http://deb.debian.org/debian bookworm/main amd64 git-man all 1:2.39.2-1.1 [2049 kB]
#5 29.34 Get:22 http://deb.debian.org/debian bookworm/main amd64 git amd64 1:2.39.2-1.1 [7171 kB]
#5 34.04 Get:23 http://deb.debian.org/debian bookworm/main amd64 libldap-common all 2.5.13+dfsg-5 [29.3 kB]
#5 34.06 Get:24 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules amd64 2.1.28+dfsg-10 [66.6 kB]
#5 34.08 Get:25 http://deb.debian.org/debian bookworm/main amd64 libxau6 amd64 1:1.0.9-1 [19.7 kB]
#5 34.09 Get:26 http://deb.debian.org/debian bookworm/main amd64 libxdmcp6 amd64 1:1.1.2-3 [26.3 kB]
#5 34.11 Get:27 http://deb.debian.org/debian bookworm/main amd64 libxcb1 amd64 1.15-1 [144 kB]
#5 34.19 Get:28 http://deb.debian.org/debian bookworm/main amd64 libx11-data all 2:1.8.4-2+deb12u2 [292 kB]
#5 34.32 Get:29 http://deb.debian.org/debian bookworm/main amd64 libx11-6 amd64 2:1.8.4-2+deb12u2 [760 kB]
#5 34.69 Get:30 http://deb.debian.org/debian bookworm/main amd64 libxext6 amd64 2:1.3.4-1+b1 [52.9 kB]
#5 34.70 Get:31 http://deb.debian.org/debian bookworm/main amd64 libxmuu1 amd64 2:1.1.3-3 [23.9 kB]
#5 34.72 Get:32 http://deb.debian.org/debian bookworm/main amd64 patch amd64 2.7.6-7 [128 kB]
#5 34.79 Get:33 http://deb.debian.org/debian bookworm/main amd64 publicsuffix all 20230209.2326-1 [126 kB]
#5 34.88 Get:34 http://deb.debian.org/debian bookworm/main amd64 xauth amd64 1:1.1.2-1 [36.0 kB]
#5 35.01 debconf: delaying package configuration, since apt-utils is not installed
#5 35.04 Fetched 21.0 MB in 18s (1151 kB/s)
#5 35.07 Selecting previously unselected package perl-modules-5.36.
#5 35.07 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 6696 files and directories currently installed.)
#5 35.10 Preparing to unpack .../00-perl-modules-5.36_5.36.0-7+deb12u1_all.deb ...
#5 35.11 Unpacking perl-modules-5.36 (5.36.0-7+deb12u1) ...
#5 35.50 Selecting previously unselected package libgdbm-compat4:amd64.
#5 35.50 Preparing to unpack .../01-libgdbm-compat4_1.23-3_amd64.deb ...
#5 35.53 Unpacking libgdbm-compat4:amd64 (1.23-3) ...
#5 35.68 Selecting previously unselected package libperl5.36:amd64.
#5 35.68 Preparing to unpack .../02-libperl5.36_5.36.0-7+deb12u1_amd64.deb ...
#5 35.69 Unpacking libperl5.36:amd64 (5.36.0-7+deb12u1) ...
#5 36.14 Selecting previously unselected package perl.
#5 36.14 Preparing to unpack .../03-perl_5.36.0-7+deb12u1_amd64.deb ...
#5 36.16 Unpacking perl (5.36.0-7+deb12u1) ...
#5 36.27 Selecting previously unselected package less.
#5 36.27 Preparing to unpack .../04-less_590-2.1~deb12u2_amd64.deb ...
#5 36.29 Unpacking less (590-2.1~deb12u2) ...
#5 36.41 Selecting previously unselected package libbsd0:amd64.
#5 36.41 Preparing to unpack .../05-libbsd0_0.11.7-2_amd64.deb ...
#5 36.43 Unpacking libbsd0:amd64 (0.11.7-2) ...
#5 36.52 Selecting previously unselected package libedit2:amd64.
#5 36.52 Preparing to unpack .../06-libedit2_3.1-20221030-2_amd64.deb ...
#5 36.54 Unpacking libedit2:amd64 (3.1-20221030-2) ...
#5 36.65 Selecting previously unselected package libcbor0.8:amd64.
#5 36.65 Preparing to unpack .../07-libcbor0.8_0.8.0-2+b1_amd64.deb ...
#5 36.67 Unpacking libcbor0.8:amd64 (0.8.0-2+b1) ...
#5 36.77 Selecting previously unselected package libfido2-1:amd64.
#5 36.78 Preparing to unpack .../08-libfido2-1_1.12.0-2+b1_amd64.deb ...
#5 36.79 Unpacking libfido2-1:amd64 (1.12.0-2+b1) ...
#5 36.91 Selecting previously unselected package openssh-client.
#5 36.91 Preparing to unpack .../09-openssh-client_1%3a9.2p1-2+deb12u3_amd64.deb ...
#5 36.95 Unpacking openssh-client (1:9.2p1-2+deb12u3) ...
#5 37.13 Selecting previously unselected package libbrotli1:amd64.
#5 37.14 Preparing to unpack .../10-libbrotli1_1.0.9-2+b6_amd64.deb ...
#5 37.15 Unpacking libbrotli1:amd64 (1.0.9-2+b6) ...
#5 37.23 Selecting previously unselected package libsasl2-modules-db:amd64.
#5 37.23 Preparing to unpack .../11-libsasl2-modules-db_2.1.28+dfsg-10_amd64.deb ...
#5 37.24 Unpacking libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
#5 37.32 Selecting previously unselected package libsasl2-2:amd64.
#5 37.33 Preparing to unpack .../12-libsasl2-2_2.1.28+dfsg-10_amd64.deb ...
#5 37.34 Unpacking libsasl2-2:amd64 (2.1.28+dfsg-10) ...
#5 37.44 Selecting previously unselected package libldap-2.5-0:amd64.
#5 37.45 Preparing to unpack .../13-libldap-2.5-0_2.5.13+dfsg-5_amd64.deb ...
#5 37.46 Unpacking libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
#5 37.59 Selecting previously unselected package libnghttp2-14:amd64.
#5 37.59 Preparing to unpack .../14-libnghttp2-14_1.52.0-1+deb12u1_amd64.deb ...
#5 37.61 Unpacking libnghttp2-14:amd64 (1.52.0-1+deb12u1) ...
#5 37.74 Selecting previously unselected package libpsl5:amd64.
#5 37.74 Preparing to unpack .../15-libpsl5_0.21.2-1_amd64.deb ...
#5 37.76 Unpacking libpsl5:amd64 (0.21.2-1) ...
#5 37.86 Selecting previously unselected package librtmp1:amd64.
#5 37.86 Preparing to unpack .../16-librtmp1_2.4+20151223.gitfa8646d.1-2+b2_amd64.deb ...
#5 37.88 Unpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#5 37.99 Selecting previously unselected package libssh2-1:amd64.
#5 38.00 Preparing to unpack .../17-libssh2-1_1.10.0-3+b1_amd64.deb ...
#5 38.01 Unpacking libssh2-1:amd64 (1.10.0-3+b1) ...
#5 38.13 Selecting previously unselected package libcurl3-gnutls:amd64.
#5 38.13 Preparing to unpack .../18-libcurl3-gnutls_7.88.1-10+deb12u6_amd64.deb ...
#5 38.15 Unpacking libcurl3-gnutls:amd64 (7.88.1-10+deb12u6) ...
#5 38.25 Selecting previously unselected package liberror-perl.
#5 38.26 Preparing to unpack .../19-liberror-perl_0.17029-2_all.deb ...
#5 38.27 Unpacking liberror-perl (0.17029-2) ...
#5 38.36 Selecting previously unselected package git-man.
#5 38.37 Preparing to unpack .../20-git-man_1%3a2.39.2-1.1_all.deb ...
#5 38.38 Unpacking git-man (1:2.39.2-1.1) ...
#5 38.58 Selecting previously unselected package git.
#5 38.58 Preparing to unpack .../21-git_1%3a2.39.2-1.1_amd64.deb ...
#5 38.60 Unpacking git (1:2.39.2-1.1) ...
#5 39.14 Selecting previously unselected package libldap-common.
#5 39.14 Preparing to unpack .../22-libldap-common_2.5.13+dfsg-5_all.deb ...
#5 39.15 Unpacking libldap-common (2.5.13+dfsg-5) ...
#5 39.24 Selecting previously unselected package libsasl2-modules:amd64.
#5 39.24 Preparing to unpack .../23-libsasl2-modules_2.1.28+dfsg-10_amd64.deb ...
#5 39.26 Unpacking libsasl2-modules:amd64 (2.1.28+dfsg-10) ...
#5 39.33 Selecting previously unselected package libxau6:amd64.
#5 39.34 Preparing to unpack .../24-libxau6_1%3a1.0.9-1_amd64.deb ...
#5 39.35 Unpacking libxau6:amd64 (1:1.0.9-1) ...
#5 39.43 Selecting previously unselected package libxdmcp6:amd64.
#5 39.43 Preparing to unpack .../25-libxdmcp6_1%3a1.1.2-3_amd64.deb ...
#5 39.44 Unpacking libxdmcp6:amd64 (1:1.1.2-3) ...
#5 39.57 Selecting previously unselected package libxcb1:amd64.
#5 39.58 Preparing to unpack .../26-libxcb1_1.15-1_amd64.deb ...
#5 39.59 Unpacking libxcb1:amd64 (1.15-1) ...
#5 39.67 Selecting previously unselected package libx11-data.
#5 39.67 Preparing to unpack .../27-libx11-data_2%3a1.8.4-2+deb12u2_all.deb ...
#5 39.68 Unpacking libx11-data (2:1.8.4-2+deb12u2) ...
#5 39.81 Selecting previously unselected package libx11-6:amd64.
#5 39.82 Preparing to unpack .../28-libx11-6_2%3a1.8.4-2+deb12u2_amd64.deb ...
#5 39.83 Unpacking libx11-6:amd64 (2:1.8.4-2+deb12u2) ...
#5 39.95 Selecting previously unselected package libxext6:amd64.
#5 39.95 Preparing to unpack .../29-libxext6_2%3a1.3.4-1+b1_amd64.deb ...
#5 39.96 Unpacking libxext6:amd64 (2:1.3.4-1+b1) ...
#5 40.08 Selecting previously unselected package libxmuu1:amd64.
#5 40.08 Preparing to unpack .../30-libxmuu1_2%3a1.1.3-3_amd64.deb ...
#5 40.10 Unpacking libxmuu1:amd64 (2:1.1.3-3) ...
#5 40.21 Selecting previously unselected package patch.
#5 40.21 Preparing to unpack .../31-patch_2.7.6-7_amd64.deb ...
#5 40.23 Unpacking patch (2.7.6-7) ...
#5 40.32 Selecting previously unselected package publicsuffix.
#5 40.32 Preparing to unpack .../32-publicsuffix_20230209.2326-1_all.deb ...
#5 40.33 Unpacking publicsuffix (20230209.2326-1) ...
#5 40.41 Selecting previously unselected package xauth.
#5 40.41 Preparing to unpack .../33-xauth_1%3a1.1.2-1_amd64.deb ...
#5 40.43 Unpacking xauth (1:1.1.2-1) ...
#5 40.54 Setting up libxau6:amd64 (1:1.0.9-1) ...
#5 40.59 Setting up libpsl5:amd64 (0.21.2-1) ...
#5 40.65 Setting up libcbor0.8:amd64 (0.8.0-2+b1) ...
#5 40.71 Setting up libbrotli1:amd64 (1.0.9-2+b6) ...
#5 40.77 Setting up libsasl2-modules:amd64 (2.1.28+dfsg-10) ...
#5 40.85 Setting up libnghttp2-14:amd64 (1.52.0-1+deb12u1) ...
#5 40.89 Setting up less (590-2.1~deb12u2) ...
#5 40.96 Setting up libldap-common (2.5.13+dfsg-5) ...
#5 41.05 Setting up libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
#5 41.10 Setting up perl-modules-5.36 (5.36.0-7+deb12u1) ...
#5 41.13 Setting up libx11-data (2:1.8.4-2+deb12u2) ...
#5 41.16 Setting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#5 41.19 Setting up patch (2.7.6-7) ...
#5 41.21 Setting up libgdbm-compat4:amd64 (1.23-3) ...
#5 41.24 Setting up libsasl2-2:amd64 (2.1.28+dfsg-10) ...
#5 41.27 Setting up git-man (1:2.39.2-1.1) ...
#5 41.29 Setting up libssh2-1:amd64 (1.10.0-3+b1) ...
#5 41.32 Setting up libfido2-1:amd64 (1.12.0-2+b1) ...
#5 41.34 Setting up libbsd0:amd64 (0.11.7-2) ...
#5 41.37 Setting up publicsuffix (20230209.2326-1) ...
#5 41.39 Setting up libperl5.36:amd64 (5.36.0-7+deb12u1) ...
#5 41.42 Setting up libxdmcp6:amd64 (1:1.1.2-3) ...
#5 41.47 Setting up libxcb1:amd64 (1.15-1) ...
#5 41.52 Setting up libedit2:amd64 (3.1-20221030-2) ...
#5 41.57 Setting up libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
#5 41.63 Setting up perl (5.36.0-7+deb12u1) ...
#5 41.73 Setting up libx11-6:amd64 (2:1.8.4-2+deb12u2) ...
#5 41.77 Setting up libxmuu1:amd64 (2:1.1.3-3) ...
#5 41.83 Setting up openssh-client (1:9.2p1-2+deb12u3) ...
#5 42.01 Setting up libxext6:amd64 (2:1.3.4-1+b1) ...
#5 42.05 Setting up libcurl3-gnutls:amd64 (7.88.1-10+deb12u6) ...
#5 42.10 Setting up liberror-perl (0.17029-2) ...
#5 42.14 Setting up git (1:2.39.2-1.1) ...
#5 42.22 Setting up xauth (1:1.1.2-1) ...
#5 42.28 Processing triggers for libc-bin (2.36-9+deb12u7) ...
#5 DONE 42.5s

#6 [3/7] RUN git clone https://github.com/home-assistant/core.git
#6 0.284 Cloning into 'core'...
#6 239.5 Updating files:  91% (15747/17163)Updating files:  92% (15790/17163)Updating files:  93% (15962/17163)Updating files:  94% (16134/17163)Updating files:  95% (16305/17163)Updating files:  96% (16477/17163)Updating files:  97% (16649/17163)Updating files:  98% (16820/17163)Updating files:  99% (16992/17163)Updating files: 100% (17163/17163)Updating files: 100% (17163/17163), done.
#6 DONE 239.8s

#7 [4/7] WORKDIR /core
#7 DONE 0.1s

#8 [5/7] RUN pip install --upgrade pip     && pip install -r requirements.txt
#8 1.587 Requirement already satisfied: pip in /usr/local/lib/python3.9/site-packages (23.0.1)
#8 2.163 Collecting pip
#8 2.488   Downloading pip-24.1.1-py3-none-any.whl (1.8 MB)
#8 3.334      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.8/1.8 MB 2.2 MB/s eta 0:00:00
#8 3.377 Installing collected packages: pip
#8 3.377   Attempting uninstall: pip
#8 3.378     Found existing installation: pip 23.0.1
#8 3.490     Uninstalling pip-23.0.1:
#8 3.684       Successfully uninstalled pip-23.0.1
#8 4.382 Successfully installed pip-24.1.1
#8 4.383 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#8 4.971 Collecting aiodns==3.2.0 (from -r requirements.txt (line 6))
#8 5.159   Downloading aiodns-3.2.0-py3-none-any.whl.metadata (4.0 kB)
#8 5.682 Collecting aiohttp==3.9.5 (from -r requirements.txt (line 7))
#8 5.741   Downloading aiohttp-3.9.5-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.5 kB)
#8 5.827 Collecting aiohttp_cors==0.7.0 (from -r requirements.txt (line 8))
#8 5.889   Downloading aiohttp_cors-0.7.0-py3-none-any.whl.metadata (20 kB)
#8 6.208 Collecting aiohttp-fast-url-dispatcher==0.3.0 (from -r requirements.txt (line 9))
#8 6.273   Downloading aiohttp_fast_url_dispatcher-0.3.0-py3-none-any.whl.metadata (6.4 kB)
#8 6.544 Collecting aiohttp-fast-zlib==0.1.1 (from -r requirements.txt (line 10))
#8 6.609   Downloading aiohttp_fast_zlib-0.1.1-py3-none-any.whl.metadata (5.6 kB)
#8 6.929 Collecting aiozoneinfo==0.2.1 (from -r requirements.txt (line 11))
#8 7.006   Downloading aiozoneinfo-0.2.1-py3-none-any.whl.metadata (5.5 kB)
#8 7.507 Collecting astral==2.2 (from -r requirements.txt (line 12))
#8 7.575   Downloading astral-2.2-py2.py3-none-any.whl.metadata (1.5 kB)
#8 7.875 Collecting async-interrupt==1.1.2 (from -r requirements.txt (line 13))
#8 7.937   Downloading async_interrupt-1.1.2-py3-none-any.whl.metadata (4.8 kB)
#8 8.049 Collecting attrs==23.2.0 (from -r requirements.txt (line 14))
#8 8.108   Downloading attrs-23.2.0-py3-none-any.whl.metadata (9.5 kB)
#8 8.436 Collecting atomicwrites-homeassistant==1.4.1 (from -r requirements.txt (line 15))
#8 8.499   Downloading atomicwrites_homeassistant-1.4.1-py2.py3-none-any.whl.metadata (6.0 kB)
#8 8.808 Collecting awesomeversion==24.6.0 (from -r requirements.txt (line 16))
#8 8.870   Downloading awesomeversion-24.6.0-py3-none-any.whl.metadata (9.0 kB)
#8 8.972 Collecting bcrypt==4.1.2 (from -r requirements.txt (line 17))
#8 9.042   Downloading bcrypt-4.1.2-cp39-abi3-manylinux_2_28_x86_64.whl.metadata (9.5 kB)
#8 9.133 Collecting certifi>=2021.5.30 (from -r requirements.txt (line 18))
#8 9.191   Downloading certifi-2024.6.2-py3-none-any.whl.metadata (2.2 kB)
#8 9.295 Collecting ciso8601==2.3.1 (from -r requirements.txt (line 19))
#8 9.355   Downloading ciso8601-2.3.1-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (25 kB)
#8 9.804 Collecting fnv-hash-fast==0.5.0 (from -r requirements.txt (line 20))
#8 9.899   Downloading fnv_hash_fast-0.5.0.tar.gz (5.8 kB)
#8 9.953   Installing build dependencies: started
#8 18.98   Installing build dependencies: finished with status 'done'
#8 18.98   Getting requirements to build wheel: started
#8 19.05   Getting requirements to build wheel: finished with status 'done'
#8 19.05   Preparing metadata (pyproject.toml): started
#8 19.24   Preparing metadata (pyproject.toml): finished with status 'done'
#8 19.55 ERROR: Cannot install hass-nabucasa==0.81.1 because these package versions have conflicting dependencies.
#8 19.55 
#8 19.55 The conflict is caused by:
#8 19.55     The user requested hass-nabucasa==0.81.1
#8 19.55     The user requested (constraint) hass-nabucasa==0.81.1
#8 19.55 
#8 19.55 To fix this you could try to:
#8 19.55 1. loosen the range of package versions you've specified
#8 19.55 2. remove package versions to allow pip to attempt to solve the dependency conflict
#8 19.55 
#8 19.55 ERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts
#8 ERROR: process "/bin/sh -c pip install --upgrade pip     && pip install -r requirements.txt" did not complete successfully: exit code: 1
------
 > [5/7] RUN pip install --upgrade pip     && pip install -r requirements.txt:
19.55 
19.55 The conflict is caused by:
19.55     The user requested hass-nabucasa==0.81.1
19.55     The user requested (constraint) hass-nabucasa==0.81.1
19.55 
19.55 To fix this you could try to:
19.55 1. loosen the range of package versions you've specified
19.55 2. remove package versions to allow pip to attempt to solve the dependency conflict
19.55 
19.55 ERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts
------
Dockerfile:21
--------------------
  20 |     # Install the dependencies
  21 | >>> RUN pip install --upgrade pip \
  22 | >>>     && pip install -r requirements.txt
  23 |     
--------------------
ERROR: failed to solve: process "/bin/sh -c pip install --upgrade pip     && pip install -r requirements.txt" did not complete successfully: exit code: 1
removing docker image...
clearing temp directory
