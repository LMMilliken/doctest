# Use an official Python runtime as a parent image
FROM python:3.8-slim

# Set the working directory in the container
WORKDIR /app

# Install dependencies
RUN pip install --no-cache-dir poetry pytest

# Clone the repository
RUN git clone https://github.com/tiangolo/fastapi.git

# Change working directory to the cloned repository
WORKDIR /app/fastapi

# Install project dependencies
RUN pip install --no-cache-dir -r requirements.txt

# Run the tests
RUN pytest

machine already started
TEMP DIR: /tmp/tmp.LkusCFywoC


setup repo.
Warning: Permanently added '[localhost]:3022' (ED25519) to the list of known hosts.
Dockerfile
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 502B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 2B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/python:3.8-slim
#3 DONE 2.8s

#4 [1/7] FROM docker.io/library/python:3.8-slim@sha256:fa2a2267ba4e56c34bee9b8d9c7e7de4073c3e6808035f07bff79fa2ccfedf35
#4 resolve docker.io/library/python:3.8-slim@sha256:fa2a2267ba4e56c34bee9b8d9c7e7de4073c3e6808035f07bff79fa2ccfedf35 0.1s done
#4 sha256:3586deefd62567e599eade7fca2a1351105090004ac78f29ba3c9cc69385c6b8 1.94kB / 1.94kB done
#4 sha256:4c6a763a6fa2ee1d1b2e1da6cc53617335b37fbb7b0dcb95a2bdc23f1a61c537 6.93kB / 6.93kB done
#4 sha256:c4af6584aa753bc10dcd0d8928c32c847d49d6fef4c1498bb02139d66e3aef7c 0B / 3.51MB 0.3s
#4 sha256:fa2a2267ba4e56c34bee9b8d9c7e7de4073c3e6808035f07bff79fa2ccfedf35 10.41kB / 10.41kB done
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 0B / 11.67MB 0.3s
#4 sha256:475b992f2e48a1123459ded261b2d6f187217091acb568455cf92db96fc40058 0B / 232B 0.3s
#4 sha256:475b992f2e48a1123459ded261b2d6f187217091acb568455cf92db96fc40058 232B / 232B 0.7s
#4 sha256:c4af6584aa753bc10dcd0d8928c32c847d49d6fef4c1498bb02139d66e3aef7c 1.05MB / 3.51MB 0.9s
#4 sha256:475b992f2e48a1123459ded261b2d6f187217091acb568455cf92db96fc40058 232B / 232B 0.7s done
#4 sha256:a1eef66c7ea4d2d66ef54a051bd7c991713c3f1401059ed1c802b39952d600a2 0B / 2.78MB 0.9s
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 1.05MB / 11.67MB 1.2s
#4 sha256:c4af6584aa753bc10dcd0d8928c32c847d49d6fef4c1498bb02139d66e3aef7c 2.10MB / 3.51MB 1.8s
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 2.10MB / 11.67MB 1.8s
#4 sha256:a1eef66c7ea4d2d66ef54a051bd7c991713c3f1401059ed1c802b39952d600a2 1.05MB / 2.78MB 2.2s
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 3.15MB / 11.67MB 2.3s
#4 sha256:a1eef66c7ea4d2d66ef54a051bd7c991713c3f1401059ed1c802b39952d600a2 2.10MB / 2.78MB 2.8s
#4 sha256:c4af6584aa753bc10dcd0d8928c32c847d49d6fef4c1498bb02139d66e3aef7c 2.62MB / 3.51MB 3.1s
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 4.19MB / 11.67MB 3.1s
#4 sha256:c4af6584aa753bc10dcd0d8928c32c847d49d6fef4c1498bb02139d66e3aef7c 3.15MB / 3.51MB 3.3s
#4 sha256:a1eef66c7ea4d2d66ef54a051bd7c991713c3f1401059ed1c802b39952d600a2 2.78MB / 2.78MB 3.1s done
#4 extracting sha256:c4af6584aa753bc10dcd0d8928c32c847d49d6fef4c1498bb02139d66e3aef7c
#4 sha256:c4af6584aa753bc10dcd0d8928c32c847d49d6fef4c1498bb02139d66e3aef7c 3.51MB / 3.51MB 3.4s done
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 5.24MB / 11.67MB 3.5s
#4 extracting sha256:c4af6584aa753bc10dcd0d8928c32c847d49d6fef4c1498bb02139d66e3aef7c 0.2s done
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 6.29MB / 11.67MB 3.9s
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 7.34MB / 11.67MB 4.2s
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 8.39MB / 11.67MB 4.6s
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 9.44MB / 11.67MB 4.8s
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 10.49MB / 11.67MB 5.1s
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 11.67MB / 11.67MB 5.3s
#4 sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 11.67MB / 11.67MB 5.3s done
#4 extracting sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8
#4 extracting sha256:3c5a4819ba744c5b800f044a8b0d3955667454212c1696ca18babda96430cdb8 0.4s done
#4 extracting sha256:475b992f2e48a1123459ded261b2d6f187217091acb568455cf92db96fc40058 done
#4 extracting sha256:a1eef66c7ea4d2d66ef54a051bd7c991713c3f1401059ed1c802b39952d600a2 0.1s
#4 extracting sha256:a1eef66c7ea4d2d66ef54a051bd7c991713c3f1401059ed1c802b39952d600a2 0.2s done
#4 DONE 6.4s

#5 [2/7] WORKDIR /app
#5 DONE 0.2s

#6 [3/7] RUN pip install --no-cache-dir poetry pytest
#6 1.441 Collecting poetry
#6 1.750   Downloading poetry-1.8.3-py3-none-any.whl (249 kB)
#6 1.941      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 249.9/249.9 kB 1.3 MB/s eta 0:00:00
#6 2.039 Collecting pytest
#6 2.096   Downloading pytest-8.2.2-py3-none-any.whl (339 kB)
#6 2.204      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 339.9/339.9 kB 3.2 MB/s eta 0:00:00
#6 2.253 Collecting cachecontrol[filecache]<0.15.0,>=0.14.0
#6 2.316   Downloading cachecontrol-0.14.0-py3-none-any.whl (22 kB)
#6 2.381 Collecting installer<0.8.0,>=0.7.0
#6 2.438   Downloading installer-0.7.0-py3-none-any.whl (453 kB)
#6 2.661      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 453.8/453.8 kB 2.1 MB/s eta 0:00:00
#6 2.782 Collecting keyring<25.0.0,>=24.0.0
#6 2.855   Downloading keyring-24.3.1-py3-none-any.whl (38 kB)
#6 2.913 Collecting requests-toolbelt<2.0.0,>=1.0.0
#6 2.975   Downloading requests_toolbelt-1.0.0-py2.py3-none-any.whl (54 kB)
#6 2.995      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.5/54.5 kB 3.6 MB/s eta 0:00:00
#6 3.040 Collecting packaging>=23.1
#6 3.104   Downloading packaging-24.1-py3-none-any.whl (53 kB)
#6 3.118      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.0/54.0 kB 27.5 MB/s eta 0:00:00
#6 3.199 Collecting importlib-metadata>=4.4
#6 3.264   Downloading importlib_metadata-8.0.0-py3-none-any.whl (24 kB)
#6 3.398 Collecting virtualenv<21.0.0,>=20.23.0
#6 3.459   Downloading virtualenv-20.26.3-py3-none-any.whl (5.7 MB)
#6 5.460      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.7/5.7 MB 2.8 MB/s eta 0:00:00
#6 5.554 Collecting pkginfo<2.0,>=1.10
#6 5.610   Downloading pkginfo-1.11.1-py3-none-any.whl (31 kB)
#6 5.651 Collecting build<2.0.0,>=1.0.3
#6 5.710   Downloading build-1.2.1-py3-none-any.whl (21 kB)
#6 5.770 Collecting fastjsonschema<3.0.0,>=2.18.0
#6 5.828   Downloading fastjsonschema-2.20.0-py3-none-any.whl (23 kB)
#6 5.854 Collecting crashtest<0.5.0,>=0.4.1
#6 5.915   Downloading crashtest-0.4.1-py3-none-any.whl (7.6 kB)
#6 5.950 Collecting cleo<3.0.0,>=2.1.0
#6 6.008   Downloading cleo-2.1.0-py3-none-any.whl (78 kB)
#6 6.030      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.7/78.7 kB 3.6 MB/s eta 0:00:00
#6 6.082 Collecting trove-classifiers>=2022.5.19
#6 6.165   Downloading trove_classifiers-2024.7.2-py3-none-any.whl (13 kB)
#6 6.264 Collecting poetry-core==1.9.0
#6 6.319   Downloading poetry_core-1.9.0-py3-none-any.whl (309 kB)
#6 6.385      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 309.5/309.5 kB 5.0 MB/s eta 0:00:00
#6 6.451 Collecting requests<3.0,>=2.26
#6 6.508   Downloading requests-2.32.3-py3-none-any.whl (64 kB)
#6 6.531      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.9/64.9 kB 4.6 MB/s eta 0:00:00
#6 6.552 Collecting pyproject-hooks<2.0.0,>=1.0.0
#6 6.618   Downloading pyproject_hooks-1.1.0-py3-none-any.whl (9.2 kB)
#6 6.680 Collecting tomli<3.0.0,>=2.0.1
#6 6.736   Downloading tomli-2.0.1-py3-none-any.whl (12 kB)
#6 6.787 Collecting poetry-plugin-export<2.0.0,>=1.6.0
#6 6.845   Downloading poetry_plugin_export-1.8.0-py3-none-any.whl (10 kB)
#6 6.911 Collecting shellingham<2.0,>=1.5
#6 6.968   Downloading shellingham-1.5.4-py2.py3-none-any.whl (9.8 kB)
#6 6.993 Collecting pexpect<5.0.0,>=4.7.0
#6 7.052   Downloading pexpect-4.9.0-py2.py3-none-any.whl (63 kB)
#6 7.061      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 63.8/63.8 kB 9.8 MB/s eta 0:00:00
#6 7.324 Collecting dulwich<0.22.0,>=0.21.2
#6 7.388   Downloading dulwich-0.21.7-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (516 kB)
#6 7.532      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 517.0/517.0 kB 3.7 MB/s eta 0:00:00
#6 7.574 Collecting platformdirs<5,>=3.0.0
#6 7.629   Downloading platformdirs-4.2.2-py3-none-any.whl (18 kB)
#6 7.722 Collecting tomlkit<1.0.0,>=0.11.4
#6 7.778   Downloading tomlkit-0.12.5-py3-none-any.whl (37 kB)
#6 7.815 Collecting iniconfig
#6 7.871   Downloading iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#6 7.931 Collecting pluggy<2.0,>=1.5
#6 7.987   Downloading pluggy-1.5.0-py3-none-any.whl (20 kB)
#6 8.061 Collecting exceptiongroup>=1.0.0rc8
#6 8.118   Downloading exceptiongroup-1.2.1-py3-none-any.whl (16 kB)
#6 8.313 Collecting msgpack<2.0.0,>=0.5.2
#6 8.372   Downloading msgpack-1.0.8-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (390 kB)
#6 8.454      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 390.5/390.5 kB 4.8 MB/s eta 0:00:00
#6 8.508 Collecting filelock>=3.8.0
#6 8.567   Downloading filelock-3.15.4-py3-none-any.whl (16 kB)
#6 9.920 Collecting rapidfuzz<4.0.0,>=3.0.0
#6 9.979   Downloading rapidfuzz-3.9.4-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.4 MB)
#6 10.97      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.4/3.4 MB 3.4 MB/s eta 0:00:00
#6 11.05 Collecting urllib3>=1.25
#6 11.10   Downloading urllib3-2.2.2-py3-none-any.whl (121 kB)
#6 11.13      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 121.4/121.4 kB 5.6 MB/s eta 0:00:00
#6 11.19 Collecting zipp>=0.5
#6 11.25   Downloading zipp-3.19.2-py3-none-any.whl (9.0 kB)
#6 11.30 Collecting jeepney>=0.4.2
#6 11.36   Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)
#6 11.38      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.4/48.4 kB 3.0 MB/s eta 0:00:00
#6 11.40 Collecting SecretStorage>=3.2
#6 11.46   Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)
#6 11.51 Collecting jaraco.classes
#6 11.57   Downloading jaraco.classes-3.4.0-py3-none-any.whl (6.8 kB)
#6 11.64 Collecting importlib-resources
#6 11.70   Downloading importlib_resources-6.4.0-py3-none-any.whl (38 kB)
#6 11.73 Collecting ptyprocess>=0.5
#6 11.78   Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)
#6 11.92 Collecting certifi>=2017.4.17
#6 11.98   Downloading certifi-2024.7.4-py3-none-any.whl (162 kB)
#6 12.02      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 163.0/163.0 kB 4.7 MB/s eta 0:00:00
#6 12.06 Collecting idna<4,>=2.5
#6 12.12   Downloading idna-3.7-py3-none-any.whl (66 kB)
#6 12.14      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 66.8/66.8 kB 4.8 MB/s eta 0:00:00
#6 12.28 Collecting charset-normalizer<4,>=2
#6 12.34   Downloading charset_normalizer-3.3.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (141 kB)
#6 12.38      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 141.1/141.1 kB 5.0 MB/s eta 0:00:00
#6 12.47 Collecting distlib<1,>=0.3.7
#6 12.53   Downloading distlib-0.3.8-py2.py3-none-any.whl (468 kB)
#6 12.65      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.9/468.9 kB 3.9 MB/s eta 0:00:00
#6 13.12 Collecting cryptography>=2.0
#6 13.18   Downloading cryptography-42.0.8-cp37-abi3-manylinux_2_28_x86_64.whl (3.9 MB)
#6 14.23      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.9/3.9 MB 3.7 MB/s eta 0:00:00
#6 14.34 Collecting more-itertools
#6 14.40   Downloading more_itertools-10.3.0-py3-none-any.whl (59 kB)
#6 14.42      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.2/59.2 kB 3.7 MB/s eta 0:00:00
#6 14.71 Collecting cffi>=1.12
#6 14.77   Downloading cffi-1.16.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (444 kB)
#6 14.86      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 444.7/444.7 kB 5.0 MB/s eta 0:00:00
#6 14.90 Collecting pycparser
#6 14.97   Downloading pycparser-2.22-py3-none-any.whl (117 kB)
#6 14.99      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 117.6/117.6 kB 5.8 MB/s eta 0:00:00
#6 15.23 Installing collected packages: trove-classifiers, ptyprocess, fastjsonschema, distlib, zipp, urllib3, tomlkit, tomli, shellingham, rapidfuzz, pyproject-hooks, pycparser, poetry-core, pluggy, platformdirs, pkginfo, pexpect, packaging, msgpack, more-itertools, jeepney, installer, iniconfig, idna, filelock, exceptiongroup, crashtest, charset-normalizer, certifi, virtualenv, requests, pytest, jaraco.classes, importlib-resources, importlib-metadata, dulwich, cleo, cffi, requests-toolbelt, cryptography, cachecontrol, build, SecretStorage, keyring, poetry-plugin-export, poetry
#6 17.50 Successfully installed SecretStorage-3.3.3 build-1.2.1 cachecontrol-0.14.0 certifi-2024.7.4 cffi-1.16.0 charset-normalizer-3.3.2 cleo-2.1.0 crashtest-0.4.1 cryptography-42.0.8 distlib-0.3.8 dulwich-0.21.7 exceptiongroup-1.2.1 fastjsonschema-2.20.0 filelock-3.15.4 idna-3.7 importlib-metadata-8.0.0 importlib-resources-6.4.0 iniconfig-2.0.0 installer-0.7.0 jaraco.classes-3.4.0 jeepney-0.8.0 keyring-24.3.1 more-itertools-10.3.0 msgpack-1.0.8 packaging-24.1 pexpect-4.9.0 pkginfo-1.11.1 platformdirs-4.2.2 pluggy-1.5.0 poetry-1.8.3 poetry-core-1.9.0 poetry-plugin-export-1.8.0 ptyprocess-0.7.0 pycparser-2.22 pyproject-hooks-1.1.0 pytest-8.2.2 rapidfuzz-3.9.4 requests-2.32.3 requests-toolbelt-1.0.0 shellingham-1.5.4 tomli-2.0.1 tomlkit-0.12.5 trove-classifiers-2024.7.2 urllib3-2.2.2 virtualenv-20.26.3 zipp-3.19.2
#6 17.51 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 17.68 
#6 17.68 [notice] A new release of pip is available: 23.0.1 -> 24.1.1
#6 17.68 [notice] To update, run: pip install --upgrade pip
#6 DONE 18.0s

#7 [4/7] RUN git clone https://github.com/tiangolo/fastapi.git
#7 0.348 /bin/sh: 1: git: not found
#7 ERROR: process "/bin/sh -c git clone https://github.com/tiangolo/fastapi.git" did not complete successfully: exit code: 127
------
 > [4/7] RUN git clone https://github.com/tiangolo/fastapi.git:
git: not found
------
Dockerfile:11
--------------------
   9 |     
  10 |     # Clone the repository
  11 | >>> RUN git clone https://github.com/tiangolo/fastapi.git
  12 |     
  13 |     # Change working directory to the cloned repository
--------------------
ERROR: failed to solve: process "/bin/sh -c git clone https://github.com/tiangolo/fastapi.git" did not complete successfully: exit code: 127
removing docker image...
clearing temp directory
