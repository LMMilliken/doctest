# Use an official Python runtime as a parent image
FROM python:3.9-slim

# Set the working directory in the container
WORKDIR /app

# Install git
RUN apt-get update && apt-get install -y git && rm -rf /var/lib/apt/lists/*

# Clone the repository
RUN git clone https://github.com/tiangolo/fastapi.git

# Set the working directory to the cloned repository
WORKDIR /app/fastapi

# Copy the requirements.txt from the cloned repository
COPY requirements.txt /app/fastapi/

# Install any needed packages specified in requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

# Install pytest to run tests
RUN pip install pytest

# Run the test suite
RUN pytest

machine already started
TEMP DIR: /tmp/tmp.9srBklx5lx


setup repo.
Warning: Permanently added '[localhost]:3022' (ED25519) to the list of known hosts.
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 705B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 2B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/python:3.9-slim
#3 DONE 1.5s

#4 [1/9] FROM docker.io/library/python:3.9-slim@sha256:54fb3e4ad3a04e2c74702a8016cb4c1945dc6a0b5ea775c801720b58c9c38677
#4 DONE 0.0s

#5 [2/9] WORKDIR /app
#5 CACHED

#6 [internal] load build context
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [4/9] RUN git clone https://github.com/tiangolo/fastapi.git
#7 CACHED

#8 [5/9] WORKDIR /app/fastapi
#8 CACHED

#9 [6/9] COPY requirements.txt /app/fastapi/
#9 ERROR: failed to calculate checksum of ref b2804007-ed8a-46de-ba98-5f7c2b695425::gw35vpr6iujkvkehvqeaal57g: "/requirements.txt": not found

#10 [3/9] RUN apt-get update && apt-get install -y git && rm -rf /var/lib/apt/lists/*
#10 0.512 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#10 0.563 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#10 0.887 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#10 0.913 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8788 kB]
#10 3.930 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [13.8 kB]
#10 3.942 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [165 kB]
#10 4.701 Fetched 9221 kB in 4s (2087 kB/s)
#10 4.701 Reading package lists...
#10 5.103 Reading package lists...
#10 5.504 Building dependency tree...
#10 5.599 Reading state information...
#10 5.709 The following additional packages will be installed:
#10 5.710   git-man less libbrotli1 libbsd0 libcbor0.8 libcurl3-gnutls libedit2
#10 5.710   liberror-perl libfido2-1 libgdbm-compat4 libldap-2.5-0 libldap-common
#10 5.710   libnghttp2-14 libperl5.36 libpsl5 librtmp1 libsasl2-2 libsasl2-modules
#10 5.710   libsasl2-modules-db libssh2-1 libx11-6 libx11-data libxau6 libxcb1 libxdmcp6
#10 5.711   libxext6 libxmuu1 openssh-client patch perl perl-modules-5.36 publicsuffix
#10 5.711   xauth
#10 5.712 Suggested packages:
#10 5.712   gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-email git-gui
#10 5.712   gitk gitweb git-cvs git-mediawiki git-svn sensible-utils
#10 5.712   libsasl2-modules-gssapi-mit | libsasl2-modules-gssapi-heimdal
#10 5.712   libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql keychain
#10 5.712   libpam-ssh monkeysphere ssh-askpass ed diffutils-doc perl-doc
#10 5.713   libterm-readline-gnu-perl | libterm-readline-perl-perl make
#10 5.713   libtap-harness-archive-perl
#10 5.867 The following NEW packages will be installed:
#10 5.870   git git-man less libbrotli1 libbsd0 libcbor0.8 libcurl3-gnutls libedit2
#10 5.870   liberror-perl libfido2-1 libgdbm-compat4 libldap-2.5-0 libldap-common
#10 5.871   libnghttp2-14 libperl5.36 libpsl5 librtmp1 libsasl2-2 libsasl2-modules
#10 5.871   libsasl2-modules-db libssh2-1 libx11-6 libx11-data libxau6 libxcb1 libxdmcp6
#10 5.871   libxext6 libxmuu1 openssh-client patch perl perl-modules-5.36 publicsuffix
#10 5.871   xauth
#10 5.913 0 upgraded, 34 newly installed, 0 to remove and 0 not upgraded.
#10 5.913 Need to get 21.0 MB of archives.
#10 5.913 After this operation, 112 MB of additional disk space will be used.
#10 5.913 Get:1 http://deb.debian.org/debian bookworm/main amd64 perl-modules-5.36 all 5.36.0-7+deb12u1 [2815 kB]
#10 7.029 Get:2 http://deb.debian.org/debian bookworm/main amd64 libgdbm-compat4 amd64 1.23-3 [48.2 kB]
#10 7.055 Get:3 http://deb.debian.org/debian bookworm/main amd64 libperl5.36 amd64 5.36.0-7+deb12u1 [4218 kB]
#10 8.632 Get:4 http://deb.debian.org/debian bookworm/main amd64 perl amd64 5.36.0-7+deb12u1 [239 kB]
#10 8.725 Get:5 http://deb.debian.org/debian bookworm/main amd64 less amd64 590-2.1~deb12u2 [132 kB]
#10 8.774 Get:6 http://deb.debian.org/debian bookworm/main amd64 libbsd0 amd64 0.11.7-2 [117 kB]
#10 8.824 Get:7 http://deb.debian.org/debian bookworm/main amd64 libedit2 amd64 3.1-20221030-2 [93.0 kB]
#10 8.862 Get:8 http://deb.debian.org/debian bookworm/main amd64 libcbor0.8 amd64 0.8.0-2+b1 [27.4 kB]
#10 8.875 Get:9 http://deb.debian.org/debian bookworm/main amd64 libfido2-1 amd64 1.12.0-2+b1 [77.2 kB]
#10 8.900 Get:10 http://deb.debian.org/debian-security bookworm-security/main amd64 openssh-client amd64 1:9.2p1-2+deb12u3 [991 kB]
#10 9.297 Get:11 http://deb.debian.org/debian bookworm/main amd64 libbrotli1 amd64 1.0.9-2+b6 [275 kB]
#10 9.376 Get:12 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules-db amd64 2.1.28+dfsg-10 [20.3 kB]
#10 9.387 Get:13 http://deb.debian.org/debian bookworm/main amd64 libsasl2-2 amd64 2.1.28+dfsg-10 [59.7 kB]
#10 9.403 Get:14 http://deb.debian.org/debian bookworm/main amd64 libldap-2.5-0 amd64 2.5.13+dfsg-5 [183 kB]
#10 9.474 Get:15 http://deb.debian.org/debian bookworm/main amd64 libnghttp2-14 amd64 1.52.0-1+deb12u1 [72.4 kB]
#10 9.501 Get:16 http://deb.debian.org/debian bookworm/main amd64 libpsl5 amd64 0.21.2-1 [58.7 kB]
#10 9.530 Get:17 http://deb.debian.org/debian bookworm/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2+b2 [60.8 kB]
#10 9.532 Get:18 http://deb.debian.org/debian bookworm/main amd64 libssh2-1 amd64 1.10.0-3+b1 [179 kB]
#10 9.610 Get:19 http://deb.debian.org/debian bookworm/main amd64 libcurl3-gnutls amd64 7.88.1-10+deb12u6 [385 kB]
#10 9.715 Get:20 http://deb.debian.org/debian bookworm/main amd64 liberror-perl all 0.17029-2 [29.0 kB]
#10 9.724 Get:21 http://deb.debian.org/debian bookworm/main amd64 git-man all 1:2.39.2-1.1 [2049 kB]
#10 10.45 Get:22 http://deb.debian.org/debian bookworm/main amd64 git amd64 1:2.39.2-1.1 [7171 kB]
#10 13.25 Get:23 http://deb.debian.org/debian bookworm/main amd64 libldap-common all 2.5.13+dfsg-5 [29.3 kB]
#10 13.27 Get:24 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules amd64 2.1.28+dfsg-10 [66.6 kB]
#10 13.29 Get:25 http://deb.debian.org/debian bookworm/main amd64 libxau6 amd64 1:1.0.9-1 [19.7 kB]
#10 13.30 Get:26 http://deb.debian.org/debian bookworm/main amd64 libxdmcp6 amd64 1:1.1.2-3 [26.3 kB]
#10 13.31 Get:27 http://deb.debian.org/debian bookworm/main amd64 libxcb1 amd64 1.15-1 [144 kB]
#10 13.37 Get:28 http://deb.debian.org/debian bookworm/main amd64 libx11-data all 2:1.8.4-2+deb12u2 [292 kB]
#10 13.49 Get:29 http://deb.debian.org/debian bookworm/main amd64 libx11-6 amd64 2:1.8.4-2+deb12u2 [760 kB]
#10 13.91 Get:30 http://deb.debian.org/debian bookworm/main amd64 libxext6 amd64 2:1.3.4-1+b1 [52.9 kB]
#10 13.92 Get:31 http://deb.debian.org/debian bookworm/main amd64 libxmuu1 amd64 2:1.1.3-3 [23.9 kB]
#10 14.00 Get:32 http://deb.debian.org/debian bookworm/main amd64 patch amd64 2.7.6-7 [128 kB]
#10 14.06 Get:33 http://deb.debian.org/debian bookworm/main amd64 publicsuffix all 20230209.2326-1 [126 kB]
#10 14.12 Get:34 http://deb.debian.org/debian bookworm/main amd64 xauth amd64 1:1.1.2-1 [36.0 kB]
#10 14.27 debconf: delaying package configuration, since apt-utils is not installed
#10 14.31 Fetched 21.0 MB in 8s (2543 kB/s)
#10 14.35 Selecting previously unselected package perl-modules-5.36.
#10 14.35 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 6696 files and directories currently installed.)
#10 14.37 Preparing to unpack .../00-perl-modules-5.36_5.36.0-7+deb12u1_all.deb ...
#10 14.40 Unpacking perl-modules-5.36 (5.36.0-7+deb12u1) ...
#10 14.83 Selecting previously unselected package libgdbm-compat4:amd64.
#10 14.83 Preparing to unpack .../01-libgdbm-compat4_1.23-3_amd64.deb ...
#10 14.85 Unpacking libgdbm-compat4:amd64 (1.23-3) ...
#10 14.95 Selecting previously unselected package libperl5.36:amd64.
#10 14.95 Preparing to unpack .../02-libperl5.36_5.36.0-7+deb12u1_amd64.deb ...
#10 14.97 Unpacking libperl5.36:amd64 (5.36.0-7+deb12u1) ...
#10 15.44 Selecting previously unselected package perl.
#10 15.44 Preparing to unpack .../03-perl_5.36.0-7+deb12u1_amd64.deb ...
#10 15.46 Unpacking perl (5.36.0-7+deb12u1) ...
#10 15.59 Selecting previously unselected package less.
#10 15.59 Preparing to unpack .../04-less_590-2.1~deb12u2_amd64.deb ...
#10 15.61 Unpacking less (590-2.1~deb12u2) ...
#10 15.73 Selecting previously unselected package libbsd0:amd64.
#10 15.73 Preparing to unpack .../05-libbsd0_0.11.7-2_amd64.deb ...
#10 15.74 Unpacking libbsd0:amd64 (0.11.7-2) ...
#10 15.84 Selecting previously unselected package libedit2:amd64.
#10 15.84 Preparing to unpack .../06-libedit2_3.1-20221030-2_amd64.deb ...
#10 15.86 Unpacking libedit2:amd64 (3.1-20221030-2) ...
#10 15.95 Selecting previously unselected package libcbor0.8:amd64.
#10 15.95 Preparing to unpack .../07-libcbor0.8_0.8.0-2+b1_amd64.deb ...
#10 15.96 Unpacking libcbor0.8:amd64 (0.8.0-2+b1) ...
#10 16.11 Selecting previously unselected package libfido2-1:amd64.
#10 16.11 Preparing to unpack .../08-libfido2-1_1.12.0-2+b1_amd64.deb ...
#10 16.13 Unpacking libfido2-1:amd64 (1.12.0-2+b1) ...
#10 16.24 Selecting previously unselected package openssh-client.
#10 16.24 Preparing to unpack .../09-openssh-client_1%3a9.2p1-2+deb12u3_amd64.deb ...
#10 16.26 Unpacking openssh-client (1:9.2p1-2+deb12u3) ...
#10 16.44 Selecting previously unselected package libbrotli1:amd64.
#10 16.44 Preparing to unpack .../10-libbrotli1_1.0.9-2+b6_amd64.deb ...
#10 16.45 Unpacking libbrotli1:amd64 (1.0.9-2+b6) ...
#10 16.53 Selecting previously unselected package libsasl2-modules-db:amd64.
#10 16.53 Preparing to unpack .../11-libsasl2-modules-db_2.1.28+dfsg-10_amd64.deb ...
#10 16.55 Unpacking libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
#10 16.65 Selecting previously unselected package libsasl2-2:amd64.
#10 16.65 Preparing to unpack .../12-libsasl2-2_2.1.28+dfsg-10_amd64.deb ...
#10 16.67 Unpacking libsasl2-2:amd64 (2.1.28+dfsg-10) ...
#10 16.80 Selecting previously unselected package libldap-2.5-0:amd64.
#10 16.80 Preparing to unpack .../13-libldap-2.5-0_2.5.13+dfsg-5_amd64.deb ...
#10 16.81 Unpacking libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
#10 16.93 Selecting previously unselected package libnghttp2-14:amd64.
#10 16.93 Preparing to unpack .../14-libnghttp2-14_1.52.0-1+deb12u1_amd64.deb ...
#10 16.94 Unpacking libnghttp2-14:amd64 (1.52.0-1+deb12u1) ...
#10 17.06 Selecting previously unselected package libpsl5:amd64.
#10 17.06 Preparing to unpack .../15-libpsl5_0.21.2-1_amd64.deb ...
#10 17.08 Unpacking libpsl5:amd64 (0.21.2-1) ...
#10 17.22 Selecting previously unselected package librtmp1:amd64.
#10 17.22 Preparing to unpack .../16-librtmp1_2.4+20151223.gitfa8646d.1-2+b2_amd64.deb ...
#10 17.23 Unpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#10 17.33 Selecting previously unselected package libssh2-1:amd64.
#10 17.33 Preparing to unpack .../17-libssh2-1_1.10.0-3+b1_amd64.deb ...
#10 17.36 Unpacking libssh2-1:amd64 (1.10.0-3+b1) ...
#10 17.47 Selecting previously unselected package libcurl3-gnutls:amd64.
#10 17.48 Preparing to unpack .../18-libcurl3-gnutls_7.88.1-10+deb12u6_amd64.deb ...
#10 17.50 Unpacking libcurl3-gnutls:amd64 (7.88.1-10+deb12u6) ...
#10 17.60 Selecting previously unselected package liberror-perl.
#10 17.61 Preparing to unpack .../19-liberror-perl_0.17029-2_all.deb ...
#10 17.63 Unpacking liberror-perl (0.17029-2) ...
#10 17.69 Selecting previously unselected package git-man.
#10 17.69 Preparing to unpack .../20-git-man_1%3a2.39.2-1.1_all.deb ...
#10 17.71 Unpacking git-man (1:2.39.2-1.1) ...
#10 17.89 Selecting previously unselected package git.
#10 17.89 Preparing to unpack .../21-git_1%3a2.39.2-1.1_amd64.deb ...
#10 17.92 Unpacking git (1:2.39.2-1.1) ...
#10 18.53 Selecting previously unselected package libldap-common.
#10 18.53 Preparing to unpack .../22-libldap-common_2.5.13+dfsg-5_all.deb ...
#10 18.54 Unpacking libldap-common (2.5.13+dfsg-5) ...
#10 18.65 Selecting previously unselected package libsasl2-modules:amd64.
#10 18.65 Preparing to unpack .../23-libsasl2-modules_2.1.28+dfsg-10_amd64.deb ...
#10 18.67 Unpacking libsasl2-modules:amd64 (2.1.28+dfsg-10) ...
#10 18.77 Selecting previously unselected package libxau6:amd64.
#10 18.77 Preparing to unpack .../24-libxau6_1%3a1.0.9-1_amd64.deb ...
#10 18.79 Unpacking libxau6:amd64 (1:1.0.9-1) ...
#10 18.89 Selecting previously unselected package libxdmcp6:amd64.
#10 18.89 Preparing to unpack .../25-libxdmcp6_1%3a1.1.2-3_amd64.deb ...
#10 18.90 Unpacking libxdmcp6:amd64 (1:1.1.2-3) ...
#10 19.03 Selecting previously unselected package libxcb1:amd64.
#10 19.03 Preparing to unpack .../26-libxcb1_1.15-1_amd64.deb ...
#10 19.05 Unpacking libxcb1:amd64 (1.15-1) ...
#10 19.13 Selecting previously unselected package libx11-data.
#10 19.13 Preparing to unpack .../27-libx11-data_2%3a1.8.4-2+deb12u2_all.deb ...
#10 19.15 Unpacking libx11-data (2:1.8.4-2+deb12u2) ...
#10 19.27 Selecting previously unselected package libx11-6:amd64.
#10 19.27 Preparing to unpack .../28-libx11-6_2%3a1.8.4-2+deb12u2_amd64.deb ...
#10 19.29 Unpacking libx11-6:amd64 (2:1.8.4-2+deb12u2) ...
#10 19.43 Selecting previously unselected package libxext6:amd64.
#10 19.43 Preparing to unpack .../29-libxext6_2%3a1.3.4-1+b1_amd64.deb ...
#10 19.44 Unpacking libxext6:amd64 (2:1.3.4-1+b1) ...
#10 19.55 Selecting previously unselected package libxmuu1:amd64.
#10 19.55 Preparing to unpack .../30-libxmuu1_2%3a1.1.3-3_amd64.deb ...
#10 19.57 Unpacking libxmuu1:amd64 (2:1.1.3-3) ...
#10 19.67 Selecting previously unselected package patch.
#10 19.67 Preparing to unpack .../31-patch_2.7.6-7_amd64.deb ...
#10 19.70 Unpacking patch (2.7.6-7) ...
#10 19.79 Selecting previously unselected package publicsuffix.
#10 19.79 Preparing to unpack .../32-publicsuffix_20230209.2326-1_all.deb ...
#10 19.80 Unpacking publicsuffix (20230209.2326-1) ...
#10 19.87 Selecting previously unselected package xauth.
#10 19.87 Preparing to unpack .../33-xauth_1%3a1.1.2-1_amd64.deb ...
#10 19.89 Unpacking xauth (1:1.1.2-1) ...
#10 20.00 Setting up libxau6:amd64 (1:1.0.9-1) ...
#10 20.04 Setting up libpsl5:amd64 (0.21.2-1) ...
#10 20.08 Setting up libcbor0.8:amd64 (0.8.0-2+b1) ...
#10 20.11 Setting up libbrotli1:amd64 (1.0.9-2+b6) ...
#10 20.16 Setting up libsasl2-modules:amd64 (2.1.28+dfsg-10) ...
#10 20.21 Setting up libnghttp2-14:amd64 (1.52.0-1+deb12u1) ...
#10 20.27 Setting up less (590-2.1~deb12u2) ...
#10 20.33 Setting up libldap-common (2.5.13+dfsg-5) ...
#10 20.41 Setting up libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
#10 20.46 Setting up perl-modules-5.36 (5.36.0-7+deb12u1) ...
#10 20.50 Setting up libx11-data (2:1.8.4-2+deb12u2) ...
#10 20.53 Setting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#10 20.56 Setting up patch (2.7.6-7) ...
#10 20.59 Setting up libgdbm-compat4:amd64 (1.23-3) ...
#10 20.62 Setting up libsasl2-2:amd64 (2.1.28+dfsg-10) ...
#10 20.65 Setting up git-man (1:2.39.2-1.1) ...
#10 20.68 Setting up libssh2-1:amd64 (1.10.0-3+b1) ...
#10 20.71 Setting up libfido2-1:amd64 (1.12.0-2+b1) ...
#10 20.76 Setting up libbsd0:amd64 (0.11.7-2) ...
#10 20.80 Setting up publicsuffix (20230209.2326-1) ...
#10 20.83 Setting up libperl5.36:amd64 (5.36.0-7+deb12u1) ...
#10 20.87 Setting up libxdmcp6:amd64 (1:1.1.2-3) ...
#10 20.91 Setting up libxcb1:amd64 (1.15-1) ...
#10 20.95 Setting up libedit2:amd64 (3.1-20221030-2) ...
#10 21.00 Setting up libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
#10 21.04 Setting up perl (5.36.0-7+deb12u1) ...
#10 21.11 Setting up libx11-6:amd64 (2:1.8.4-2+deb12u2) ...
#10 21.15 Setting up libxmuu1:amd64 (2:1.1.3-3) ...
#10 21.19 Setting up openssh-client (1:9.2p1-2+deb12u3) ...
#10 21.35 Setting up libxext6:amd64 (2:1.3.4-1+b1) ...
#10 21.39 Setting up libcurl3-gnutls:amd64 (7.88.1-10+deb12u6) ...
#10 21.42 Setting up liberror-perl (0.17029-2) ...
#10 21.47 Setting up git (1:2.39.2-1.1) ...
#10 21.54 Setting up xauth (1:1.1.2-1) ...
#10 21.58 Processing triggers for libc-bin (2.36-9+deb12u7) ...
#10 DONE 21.8s
------
 > [6/9] COPY requirements.txt /app/fastapi/:
------
Dockerfile:17
--------------------
  15 |     
  16 |     # Copy the requirements.txt from the cloned repository
  17 | >>> COPY requirements.txt /app/fastapi/
  18 |     
  19 |     # Install any needed packages specified in requirements.txt
--------------------
ERROR: failed to solve: failed to compute cache key: failed to calculate checksum of ref b2804007-ed8a-46de-ba98-5f7c2b695425::gw35vpr6iujkvkehvqeaal57g: "/requirements.txt": not found
removing docker image...
clearing temp directory
