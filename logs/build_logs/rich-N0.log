FROM python:3.8

# Set the working directory
WORKDIR /app

# Clone the repository
RUN git clone https://github.com/Textualize/rich.git .

# Install Poetry
RUN pip install poetry

# Set up the repository
RUN poetry install

# Run the test suite
RUN pytest
machine already started
TEMP DIR: /tmp/tmp.gcM2etvHDb


setup repo.
Warning: Permanently added '[localhost]:3022' (ED25519) to the list of known hosts.
Dockerfile
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 293B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 2B done
#2 DONE 0.1s

#3 [internal] load metadata for docker.io/library/python:3.8
#3 DONE 0.8s

#4 [1/6] FROM docker.io/library/python:3.8@sha256:bb707718063867801af7828a5107c6852cb2c0628bdea71d15b3ac2b1d045308
#4 DONE 0.0s

#5 [2/6] WORKDIR /app
#5 CACHED

#6 [3/6] RUN git clone https://github.com/Textualize/rich.git .
#6 0.279 Cloning into '.'...
#6 DONE 17.5s

#7 [4/6] RUN pip install poetry
#7 1.385 Collecting poetry
#7 1.467   Downloading poetry-1.8.3-py3-none-any.whl (249 kB)
#7 1.534      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 249.9/249.9 kB 3.8 MB/s eta 0:00:00
#7 1.686 Collecting virtualenv<21.0.0,>=20.23.0
#7 1.698   Downloading virtualenv-20.26.3-py3-none-any.whl (5.7 MB)
#7 3.281      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.7/5.7 MB 3.6 MB/s eta 0:00:00
#7 3.325 Collecting requests-toolbelt<2.0.0,>=1.0.0
#7 3.336   Downloading requests_toolbelt-1.0.0-py2.py3-none-any.whl (54 kB)
#7 3.354      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.5/54.5 kB 4.5 MB/s eta 0:00:00
#7 3.393 Collecting cleo<3.0.0,>=2.1.0
#7 3.405   Downloading cleo-2.1.0-py3-none-any.whl (78 kB)
#7 3.425      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.7/78.7 kB 4.0 MB/s eta 0:00:00
#7 3.707 Collecting shellingham<2.0,>=1.5
#7 3.720   Downloading shellingham-1.5.4-py2.py3-none-any.whl (9.8 kB)
#7 3.808 Collecting requests<3.0,>=2.26
#7 3.817   Downloading requests-2.32.3-py3-none-any.whl (64 kB)
#7 3.838      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.9/64.9 kB 3.9 MB/s eta 0:00:00
#7 3.903 Collecting pkginfo<2.0,>=1.10
#7 3.934   Downloading pkginfo-1.11.1-py3-none-any.whl (31 kB)
#7 4.022 Collecting build<2.0.0,>=1.0.3
#7 4.031   Downloading build-1.2.1-py3-none-any.whl (21 kB)
#7 4.135 Collecting importlib-metadata>=4.4
#7 4.145   Downloading importlib_metadata-8.0.0-py3-none-any.whl (24 kB)
#7 4.189 Collecting installer<0.8.0,>=0.7.0
#7 4.200   Downloading installer-0.7.0-py3-none-any.whl (453 kB)
#7 4.305      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 453.8/453.8 kB 4.3 MB/s eta 0:00:00
#7 4.336 Collecting pyproject-hooks<2.0.0,>=1.0.0
#7 4.349   Downloading pyproject_hooks-1.1.0-py3-none-any.whl (9.2 kB)
#7 4.389 Collecting crashtest<0.5.0,>=0.4.1
#7 4.399   Downloading crashtest-0.4.1-py3-none-any.whl (7.6 kB)
#7 4.695 Collecting tomlkit<1.0.0,>=0.11.4
#7 4.704   Downloading tomlkit-0.12.5-py3-none-any.whl (37 kB)
#7 4.775 Collecting trove-classifiers>=2022.5.19
#7 4.783   Downloading trove_classifiers-2024.7.2-py3-none-any.whl (13 kB)
#7 4.869 Collecting keyring<25.0.0,>=24.0.0
#7 4.878   Downloading keyring-24.3.1-py3-none-any.whl (38 kB)
#7 4.923 Collecting cachecontrol[filecache]<0.15.0,>=0.14.0
#7 4.936   Downloading cachecontrol-0.14.0-py3-none-any.whl (22 kB)
#7 5.221 Collecting dulwich<0.22.0,>=0.21.2
#7 5.234   Downloading dulwich-0.21.7-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (516 kB)
#7 5.379      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 517.0/517.0 kB 3.7 MB/s eta 0:00:00
#7 5.419 Collecting tomli<3.0.0,>=2.0.1
#7 5.428   Downloading tomli-2.0.1-py3-none-any.whl (12 kB)
#7 5.480 Collecting platformdirs<5,>=3.0.0
#7 5.488   Downloading platformdirs-4.2.2-py3-none-any.whl (18 kB)
#7 5.543 Collecting packaging>=23.1
#7 5.556   Downloading packaging-24.1-py3-none-any.whl (53 kB)
#7 5.577      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.0/54.0 kB 2.3 MB/s eta 0:00:00
#7 5.641 Collecting poetry-core==1.9.0
#7 5.659   Downloading poetry_core-1.9.0-py3-none-any.whl (309 kB)
#7 5.730      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 309.5/309.5 kB 4.3 MB/s eta 0:00:00
#7 5.786 Collecting poetry-plugin-export<2.0.0,>=1.6.0
#7 5.796   Downloading poetry_plugin_export-1.8.0-py3-none-any.whl (10 kB)
#7 5.846 Collecting pexpect<5.0.0,>=4.7.0
#7 5.862   Downloading pexpect-4.9.0-py2.py3-none-any.whl (63 kB)
#7 5.878      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 63.8/63.8 kB 5.0 MB/s eta 0:00:00
#7 5.909 Collecting fastjsonschema<3.0.0,>=2.18.0
#7 5.918   Downloading fastjsonschema-2.20.0-py3-none-any.whl (23 kB)
#7 6.157 Collecting msgpack<2.0.0,>=0.5.2
#7 6.168   Downloading msgpack-1.0.8-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (390 kB)
#7 6.254      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 390.5/390.5 kB 4.6 MB/s eta 0:00:00
#7 6.316 Collecting filelock>=3.8.0
#7 6.326   Downloading filelock-3.15.4-py3-none-any.whl (16 kB)
#7 7.718 Collecting rapidfuzz<4.0.0,>=3.0.0
#7 7.735   Downloading rapidfuzz-3.9.4-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.4 MB)
#7 8.614      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.4/3.4 MB 3.9 MB/s eta 0:00:00
#7 8.697 Collecting urllib3>=1.25
#7 8.706   Downloading urllib3-2.2.2-py3-none-any.whl (121 kB)
#7 8.758      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 121.4/121.4 kB 2.3 MB/s eta 0:00:00
#7 8.826 Collecting zipp>=0.5
#7 8.837   Downloading zipp-3.19.2-py3-none-any.whl (9.0 kB)
#7 8.894 Collecting jaraco.classes
#7 8.904   Downloading jaraco.classes-3.4.0-py3-none-any.whl (6.8 kB)
#7 8.941 Collecting jeepney>=0.4.2
#7 8.952   Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)
#7 8.972      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.4/48.4 kB 2.1 MB/s eta 0:00:00
#7 9.015 Collecting SecretStorage>=3.2
#7 9.025   Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)
#7 9.089 Collecting importlib-resources
#7 9.099   Downloading importlib_resources-6.4.0-py3-none-any.whl (38 kB)
#7 9.143 Collecting ptyprocess>=0.5
#7 9.152   Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)
#7 9.235 Collecting idna<4,>=2.5
#7 9.243   Downloading idna-3.7-py3-none-any.whl (66 kB)
#7 9.285      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 66.8/66.8 kB 1.5 MB/s eta 0:00:00
#7 9.481 Collecting charset-normalizer<4,>=2
#7 9.492   Downloading charset_normalizer-3.3.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (141 kB)
#7 9.530      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 141.1/141.1 kB 3.8 MB/s eta 0:00:00
#7 9.576 Collecting certifi>=2017.4.17
#7 9.588   Downloading certifi-2024.7.4-py3-none-any.whl (162 kB)
#7 9.627      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 163.0/163.0 kB 4.3 MB/s eta 0:00:00
#7 9.706 Collecting distlib<1,>=0.3.7
#7 9.716   Downloading distlib-0.3.8-py2.py3-none-any.whl (468 kB)
#7 9.819      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.9/468.9 kB 4.8 MB/s eta 0:00:00
#7 10.31 Collecting cryptography>=2.0
#7 10.32   Downloading cryptography-42.0.8-cp37-abi3-manylinux_2_28_x86_64.whl (3.9 MB)
#7 11.36      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.9/3.9 MB 3.7 MB/s eta 0:00:00
#7 11.48 Collecting more-itertools
#7 11.50   Downloading more_itertools-10.3.0-py3-none-any.whl (59 kB)
#7 11.51      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.2/59.2 kB 3.2 MB/s eta 0:00:00
#7 11.81 Collecting cffi>=1.12
#7 11.82   Downloading cffi-1.16.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (444 kB)
#7 11.94      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 444.7/444.7 kB 3.8 MB/s eta 0:00:00
#7 11.98 Collecting pycparser
#7 11.99   Downloading pycparser-2.22-py3-none-any.whl (117 kB)
#7 12.03      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 117.6/117.6 kB 3.7 MB/s eta 0:00:00
#7 12.27 Installing collected packages: trove-classifiers, ptyprocess, fastjsonschema, distlib, zipp, urllib3, tomlkit, tomli, shellingham, rapidfuzz, pyproject-hooks, pycparser, poetry-core, platformdirs, pkginfo, pexpect, packaging, msgpack, more-itertools, jeepney, installer, idna, filelock, crashtest, charset-normalizer, certifi, virtualenv, requests, jaraco.classes, importlib-resources, importlib-metadata, dulwich, cleo, cffi, requests-toolbelt, cryptography, cachecontrol, build, SecretStorage, keyring, poetry-plugin-export, poetry
#7 14.36 Successfully installed SecretStorage-3.3.3 build-1.2.1 cachecontrol-0.14.0 certifi-2024.7.4 cffi-1.16.0 charset-normalizer-3.3.2 cleo-2.1.0 crashtest-0.4.1 cryptography-42.0.8 distlib-0.3.8 dulwich-0.21.7 fastjsonschema-2.20.0 filelock-3.15.4 idna-3.7 importlib-metadata-8.0.0 importlib-resources-6.4.0 installer-0.7.0 jaraco.classes-3.4.0 jeepney-0.8.0 keyring-24.3.1 more-itertools-10.3.0 msgpack-1.0.8 packaging-24.1 pexpect-4.9.0 pkginfo-1.11.1 platformdirs-4.2.2 poetry-1.8.3 poetry-core-1.9.0 poetry-plugin-export-1.8.0 ptyprocess-0.7.0 pycparser-2.22 pyproject-hooks-1.1.0 rapidfuzz-3.9.4 requests-2.32.3 requests-toolbelt-1.0.0 shellingham-1.5.4 tomli-2.0.1 tomlkit-0.12.5 trove-classifiers-2024.7.2 urllib3-2.2.2 virtualenv-20.26.3 zipp-3.19.2
#7 14.36 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#7 14.49 
#7 14.49 [notice] A new release of pip is available: 23.0.1 -> 24.1.1
#7 14.49 [notice] To update, run: pip install --upgrade pip
#7 DONE 14.8s

#8 [5/6] RUN poetry install
#8 0.682 Creating virtualenv rich-9TtSrW0h-py3.8 in /root/.cache/pypoetry/virtualenvs
#8 1.063 Installing dependencies from lock file
#8 1.200 
#8 1.200 Package operations: 29 installs, 1 update, 0 removals
#8 1.201 
#8 1.202   - Installing distlib (0.3.7)
#8 1.230   - Installing exceptiongroup (1.1.3)
#8 1.230   - Installing filelock (3.12.2)
#8 1.239   - Installing iniconfig (2.0.0)
#8 1.244   - Installing packaging (23.1)
#8 1.584   - Installing platformdirs (3.10.0)
#8 1.625   - Installing pluggy (1.2.0)
#8 1.721   - Installing pygments (2.16.1)
#8 1.725   - Downgrading setuptools (70.1.0 -> 68.0.0)
#8 1.799   - Installing tomli (2.0.1)
#8 2.898   - Installing cfgv (3.3.1)
#8 2.900   - Installing click (8.1.7)
#8 2.901   - Installing identify (2.5.24)
#8 2.902   - Installing coverage (7.2.7)
#8 2.904   - Installing mdurl (0.1.2)
#8 2.954   - Installing mypy-extensions (1.0.0)
#8 2.962   - Installing nodeenv (1.8.0)
#8 2.966   - Installing pathspec (0.11.2)
#8 3.045   - Installing pytest (7.4.2)
#8 3.063   - Installing pyyaml (6.0.1)
#8 3.063   - Installing six (1.16.0)
#8 3.069   - Installing typing-extensions (4.7.1)
#8 3.099   - Installing virtualenv (20.24.5)
#8 4.489   - Installing asv (0.5.1)
#8 4.491   - Installing attrs (21.4.0)
#8 4.492   - Installing markdown-it-py (2.2.0)
#8 4.492   - Installing black (22.12.0)
#8 4.494   - Installing mypy (0.971)
#8 4.855   - Installing pre-commit (2.21.0)
#8 4.940   - Installing pytest-cov (3.0.0)
#8 10.87 
#8 10.87 Installing the current project: rich (13.7.1)
#8 DONE 11.1s

#9 [6/6] RUN pytest
#9 0.245 /bin/sh: 1: pytest: not found
#9 ERROR: process "/bin/sh -c pytest" did not complete successfully: exit code: 127
------
 > [6/6] RUN pytest:
pytest: not found
------
Dockerfile:16
--------------------
  14 |     
  15 |     # Run the test suite
  16 | >>> RUN pytest
--------------------
ERROR: failed to solve: process "/bin/sh -c pytest" did not complete successfully: exit code: 127
removing docker image...
clearing temp directory
