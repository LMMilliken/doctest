FROM python:3.8

# Install Poetry
RUN pip install poetry

# Set the working directory
WORKDIR /app

# Clone the repository
RUN git clone https://github.com/Textualize/rich.git .

# Install dependencies
RUN poetry install

# Run the test suite
RUN poetry run pytest
machine already started
TEMP DIR: /tmp/tmp.yfLdOvZPuu


setup repo.
Warning: Permanently added '[localhost]:3022' (ED25519) to the list of known hosts.
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 303B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 2B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/python:3.8
#3 DONE 1.6s

#4 [1/6] FROM docker.io/library/python:3.8@sha256:4d3590657cf443010b58ae94a09c59505a750744ed70d2028b35dac101df5e3a
#4 CACHED

#5 [2/6] RUN pip install poetry
#5 1.446 Collecting poetry
#5 1.782   Downloading poetry-1.8.3-py3-none-any.whl (249 kB)
#5 1.981      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 249.9/249.9 kB 1.3 MB/s eta 0:00:00
#5 2.044 Collecting fastjsonschema<3.0.0,>=2.18.0
#5 2.104   Downloading fastjsonschema-2.20.0-py3-none-any.whl (23 kB)
#5 2.199 Collecting importlib-metadata>=4.4
#5 2.255   Downloading importlib_metadata-8.0.0-py3-none-any.whl (24 kB)
#5 2.340 Collecting installer<0.8.0,>=0.7.0
#5 2.397   Downloading installer-0.7.0-py3-none-any.whl (453 kB)
#5 2.570      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 453.8/453.8 kB 2.7 MB/s eta 0:00:00
#5 2.609 Collecting build<2.0.0,>=1.0.3
#5 2.666   Downloading build-1.2.1-py3-none-any.whl (21 kB)
#5 2.753 Collecting requests<3.0,>=2.26
#5 2.817   Downloading requests-2.32.3-py3-none-any.whl (64 kB)
#5 2.837      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.9/64.9 kB 3.2 MB/s eta 0:00:00
#5 2.917 Collecting cleo<3.0.0,>=2.1.0
#5 2.977   Downloading cleo-2.1.0-py3-none-any.whl (78 kB)
#5 2.998      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.7/78.7 kB 3.5 MB/s eta 0:00:00
#5 3.039 Collecting tomli<3.0.0,>=2.0.1
#5 3.099   Downloading tomli-2.0.1-py3-none-any.whl (12 kB)
#5 3.231 Collecting keyring<25.0.0,>=24.0.0
#5 3.289   Downloading keyring-24.3.1-py3-none-any.whl (38 kB)
#5 3.346 Collecting pkginfo<2.0,>=1.10
#5 3.408   Downloading pkginfo-1.11.1-py3-none-any.whl (31 kB)
#5 3.692 Collecting dulwich<0.22.0,>=0.21.2
#5 3.754   Downloading dulwich-0.21.7-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (516 kB)
#5 3.877      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 517.0/517.0 kB 4.3 MB/s eta 0:00:00
#5 3.937 Collecting trove-classifiers>=2022.5.19
#5 3.997   Downloading trove_classifiers-2024.7.1-py3-none-any.whl (13 kB)
#5 4.071 Collecting poetry-core==1.9.0
#5 4.131   Downloading poetry_core-1.9.0-py3-none-any.whl (309 kB)
#5 4.194      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 309.5/309.5 kB 5.1 MB/s eta 0:00:00
#5 4.265 Collecting shellingham<2.0,>=1.5
#5 4.323   Downloading shellingham-1.5.4-py2.py3-none-any.whl (9.8 kB)
#5 4.431 Collecting tomlkit<1.0.0,>=0.11.4
#5 4.488   Downloading tomlkit-0.12.5-py3-none-any.whl (37 kB)
#5 4.546 Collecting platformdirs<5,>=3.0.0
#5 4.603   Downloading platformdirs-4.2.2-py3-none-any.whl (18 kB)
#5 4.648 Collecting requests-toolbelt<2.0.0,>=1.0.0
#5 4.707   Downloading requests_toolbelt-1.0.0-py2.py3-none-any.whl (54 kB)
#5 4.729      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.5/54.5 kB 3.9 MB/s eta 0:00:00
#5 4.771 Collecting crashtest<0.5.0,>=0.4.1
#5 4.830   Downloading crashtest-0.4.1-py3-none-any.whl (7.6 kB)
#5 4.964 Collecting virtualenv<21.0.0,>=20.23.0
#5 5.025   Downloading virtualenv-20.26.3-py3-none-any.whl (5.7 MB)
#5 6.618      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.7/5.7 MB 3.6 MB/s eta 0:00:00
#5 6.669 Collecting pexpect<5.0.0,>=4.7.0
#5 6.729   Downloading pexpect-4.9.0-py2.py3-none-any.whl (63 kB)
#5 6.750      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 63.8/63.8 kB 2.9 MB/s eta 0:00:00
#5 6.787 Collecting cachecontrol[filecache]<0.15.0,>=0.14.0
#5 6.845   Downloading cachecontrol-0.14.0-py3-none-any.whl (22 kB)
#5 6.906 Collecting packaging>=23.1
#5 6.962   Downloading packaging-24.1-py3-none-any.whl (53 kB)
#5 6.980      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 54.0/54.0 kB 3.6 MB/s eta 0:00:00
#5 7.008 Collecting pyproject-hooks<2.0.0,>=1.0.0
#5 7.071   Downloading pyproject_hooks-1.1.0-py3-none-any.whl (9.2 kB)
#5 7.139 Collecting poetry-plugin-export<2.0.0,>=1.6.0
#5 7.197   Downloading poetry_plugin_export-1.8.0-py3-none-any.whl (10 kB)
#5 7.456 Collecting msgpack<2.0.0,>=0.5.2
#5 7.513   Downloading msgpack-1.0.8-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (390 kB)
#5 7.613      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 390.5/390.5 kB 3.9 MB/s eta 0:00:00
#5 7.677 Collecting filelock>=3.8.0
#5 7.735   Downloading filelock-3.15.4-py3-none-any.whl (16 kB)
#5 9.111 Collecting rapidfuzz<4.0.0,>=3.0.0
#5 9.169   Downloading rapidfuzz-3.9.3-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.4 MB)
#5 10.16      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.4/3.4 MB 3.5 MB/s eta 0:00:00
#5 10.27 Collecting urllib3>=1.25
#5 10.33   Downloading urllib3-2.2.2-py3-none-any.whl (121 kB)
#5 10.37      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 121.4/121.4 kB 2.6 MB/s eta 0:00:00
#5 10.45 Collecting zipp>=0.5
#5 10.51   Downloading zipp-3.19.2-py3-none-any.whl (9.0 kB)
#5 10.63 Collecting importlib-resources
#5 10.69   Downloading importlib_resources-6.4.0-py3-none-any.whl (38 kB)
#5 10.75 Collecting SecretStorage>=3.2
#5 10.81   Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)
#5 10.90 Collecting jaraco.classes
#5 10.96   Downloading jaraco.classes-3.4.0-py3-none-any.whl (6.8 kB)
#5 11.03 Collecting jeepney>=0.4.2
#5 11.08   Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)
#5 11.10      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 48.4/48.4 kB 3.3 MB/s eta 0:00:00
#5 11.13 Collecting ptyprocess>=0.5
#5 11.19   Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)
#5 11.29 Collecting idna<4,>=2.5
#5 11.35   Downloading idna-3.7-py3-none-any.whl (66 kB)
#5 11.38      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 66.8/66.8 kB 2.2 MB/s eta 0:00:00
#5 11.43 Collecting certifi>=2017.4.17
#5 11.49   Downloading certifi-2024.6.2-py3-none-any.whl (164 kB)
#5 11.52      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 164.4/164.4 kB 5.7 MB/s eta 0:00:00
#5 11.68 Collecting charset-normalizer<4,>=2
#5 11.74   Downloading charset_normalizer-3.3.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (141 kB)
#5 11.81      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 141.1/141.1 kB 2.2 MB/s eta 0:00:00
#5 11.89 Collecting distlib<1,>=0.3.7
#5 11.95   Downloading distlib-0.3.8-py2.py3-none-any.whl (468 kB)
#5 12.04      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 468.9/468.9 kB 5.0 MB/s eta 0:00:00
#5 12.54 Collecting cryptography>=2.0
#5 12.60   Downloading cryptography-42.0.8-cp37-abi3-manylinux_2_28_x86_64.whl (3.9 MB)
#5 13.69      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.9/3.9 MB 3.5 MB/s eta 0:00:00
#5 13.84 Collecting more-itertools
#5 13.89   Downloading more_itertools-10.3.0-py3-none-any.whl (59 kB)
#5 13.92      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 59.2/59.2 kB 2.9 MB/s eta 0:00:00
#5 14.19 Collecting cffi>=1.12
#5 14.25   Downloading cffi-1.16.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (444 kB)
#5 14.48      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 444.7/444.7 kB 2.1 MB/s eta 0:00:00
#5 14.54 Collecting pycparser
#5 14.60   Downloading pycparser-2.22-py3-none-any.whl (117 kB)
#5 14.65      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 117.6/117.6 kB 2.5 MB/s eta 0:00:00
#5 14.88 Installing collected packages: trove-classifiers, ptyprocess, fastjsonschema, distlib, zipp, urllib3, tomlkit, tomli, shellingham, rapidfuzz, pyproject-hooks, pycparser, poetry-core, platformdirs, pkginfo, pexpect, packaging, msgpack, more-itertools, jeepney, installer, idna, filelock, crashtest, charset-normalizer, certifi, virtualenv, requests, jaraco.classes, importlib-resources, importlib-metadata, dulwich, cleo, cffi, requests-toolbelt, cryptography, cachecontrol, build, SecretStorage, keyring, poetry-plugin-export, poetry
#5 16.96 Successfully installed SecretStorage-3.3.3 build-1.2.1 cachecontrol-0.14.0 certifi-2024.6.2 cffi-1.16.0 charset-normalizer-3.3.2 cleo-2.1.0 crashtest-0.4.1 cryptography-42.0.8 distlib-0.3.8 dulwich-0.21.7 fastjsonschema-2.20.0 filelock-3.15.4 idna-3.7 importlib-metadata-8.0.0 importlib-resources-6.4.0 installer-0.7.0 jaraco.classes-3.4.0 jeepney-0.8.0 keyring-24.3.1 more-itertools-10.3.0 msgpack-1.0.8 packaging-24.1 pexpect-4.9.0 pkginfo-1.11.1 platformdirs-4.2.2 poetry-1.8.3 poetry-core-1.9.0 poetry-plugin-export-1.8.0 ptyprocess-0.7.0 pycparser-2.22 pyproject-hooks-1.1.0 rapidfuzz-3.9.3 requests-2.32.3 requests-toolbelt-1.0.0 shellingham-1.5.4 tomli-2.0.1 tomlkit-0.12.5 trove-classifiers-2024.7.1 urllib3-2.2.2 virtualenv-20.26.3 zipp-3.19.2
#5 16.96 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#5 17.11 
#5 17.11 [notice] A new release of pip is available: 23.0.1 -> 24.1.1
#5 17.11 [notice] To update, run: pip install --upgrade pip
#5 DONE 17.4s

#6 [3/6] WORKDIR /app
#6 DONE 0.1s

#7 [4/6] RUN git clone https://github.com/Textualize/rich.git .
#7 0.271 Cloning into '.'...
#7 DONE 14.9s

#8 [5/6] RUN poetry install
#8 0.681 Creating virtualenv rich-9TtSrW0h-py3.8 in /root/.cache/pypoetry/virtualenvs
#8 1.053 Installing dependencies from lock file
#8 1.190 
#8 1.190 Package operations: 29 installs, 1 update, 0 removals
#8 1.191 
#8 1.192   - Installing distlib (0.3.7)
#8 1.207   - Installing exceptiongroup (1.1.3)
#8 1.207   - Installing filelock (3.12.2)
#8 1.212   - Installing iniconfig (2.0.0)
#8 1.213   - Installing packaging (23.1)
#8 1.793   - Installing platformdirs (3.10.0)
#8 1.798   - Installing pluggy (1.2.0)
#8 1.833   - Installing pygments (2.16.1)
#8 1.851   - Downgrading setuptools (70.1.0 -> 68.0.0)
#8 2.272   - Installing tomli (2.0.1)
#8 3.265   - Installing cfgv (3.3.1)
#8 3.267   - Installing click (8.1.7)
#8 3.268   - Installing identify (2.5.24)
#8 3.269   - Installing coverage (7.2.7)
#8 3.270   - Installing mdurl (0.1.2)
#8 3.355   - Installing mypy-extensions (1.0.0)
#8 3.361   - Installing nodeenv (1.8.0)
#8 3.414   - Installing pathspec (0.11.2)
#8 3.433   - Installing pytest (7.4.2)
#8 3.490   - Installing pyyaml (6.0.1)
#8 3.634   - Installing six (1.16.0)
#8 3.681   - Installing typing-extensions (4.7.1)
#8 3.740   - Installing virtualenv (20.24.5)
#8 5.644   - Installing asv (0.5.1)
#8 5.646   - Installing attrs (21.4.0)
#8 5.647   - Installing markdown-it-py (2.2.0)
#8 5.648   - Installing black (22.12.0)
#8 5.649   - Installing mypy (0.971)
#8 5.762   - Installing pre-commit (2.21.0)
#8 5.912   - Installing pytest-cov (3.0.0)
#8 14.38 
#8 14.38 Installing the current project: rich (13.7.1)
#8 DONE 14.5s

#9 [6/6] RUN poetry run pytest
#9 2.206 ============================= test session starts ==============================
#9 2.206 platform linux -- Python 3.8.19, pytest-7.4.2, pluggy-1.2.0
#9 2.206 rootdir: /app
#9 2.206 configfile: pyproject.toml
#9 2.206 testpaths: tests
#9 2.206 plugins: cov-3.0.0
#9 2.206 collected 852 items
#9 2.206 
#9 2.206 tests/test_align.py ................                                     [  1%]
#9 2.230 tests/test_ansi.py .......................                               [  4%]
#9 2.261 tests/test_bar.py .......                                                [  5%]
#9 2.270 tests/test_block_bar.py ....                                             [  5%]
#9 2.275 tests/test_box.py ........                                               [  6%]
#9 2.283 tests/test_card.py .                                                     [  6%]
#9 2.347 tests/test_cells.py .......                                              [  7%]
#9 2.355 tests/test_color.py .................                                    [  9%]
#9 2.373 tests/test_color_triplet.py ...                                          [ 10%]
#9 2.376 tests/test_columns.py .                                                  [ 10%]
#9 2.398 tests/test_columns_align.py .                                            [ 10%]
#9 2.406 tests/test_console.py .................................................. [ 16%]
#9 2.473 ..............................................                           [ 21%]
#9 2.531 tests/test_constrain.py .                                                [ 21%]
#9 2.532 tests/test_containers.py ....                                            [ 22%]
#9 2.537 tests/test_control.py .......                                            [ 23%]
#9 2.545 tests/test_emoji.py ......                                               [ 23%]
#9 2.553 tests/test_file_proxy.py ...                                             [ 24%]
#9 2.557 tests/test_filesize.py ..                                                [ 24%]
#9 2.559 tests/test_getfileno.py ...                                              [ 24%]
#9 2.563 tests/test_highlighter.py .............................................. [ 30%]
#9 2.619 ....................................                                     [ 34%]
#9 2.664 tests/test_inspect.py ....s....ss..................................      [ 39%]
#9 2.752 tests/test_json.py .                                                     [ 39%]
#9 2.754 tests/test_jupyter.py ...                                                [ 40%]
#9 2.757 tests/test_layout.py ......                                              [ 40%]
#9 2.771 tests/test_live.py ..........                                            [ 41%]
#9 4.863 tests/test_live_render.py ....                                           [ 42%]
#9 4.870 tests/test_log.py ...                                                    [ 42%]
#9 4.907 tests/test_logging.py ....                                               [ 43%]
#9 4.961 tests/test_markdown.py ......                                            [ 43%]
#9 4.994 tests/test_markdown_no_hyperlinks.py .                                   [ 44%]
#9 5.006 tests/test_markup.py .....................                               [ 46%]
#9 5.030 tests/test_measure.py ....                                               [ 46%]
#9 5.034 tests/test_null_file.py .                                                [ 47%]
#9 5.036 tests/test_padding.py .....                                              [ 47%]
#9 5.041 tests/test_palette.py .                                                  [ 47%]
#9 5.043 tests/test_panel.py ..........                                           [ 48%]
#9 5.057 tests/test_pick.py .                                                     [ 49%]
#9 5.059 tests/test_pretty.py .............................................s..... [ 55%]
#9 5.139                                                                          [ 55%]
#9 5.140 tests/test_progress.py ......................................            [ 59%]
#9 5.560 tests/test_prompt.py .......                                             [ 60%]
#9 5.574 tests/test_protocol.py ......                                            [ 61%]
#9 5.582 tests/test_ratio.py .......                                              [ 61%]
#9 5.591 tests/test_repr.py ........                                              [ 62%]
#9 5.601 tests/test_rich_print.py .......                                         [ 63%]
#9 5.611 tests/test_rule.py ................                                      [ 65%]
#9 5.634 tests/test_rule_in_table.py ....                                         [ 65%]
#9 5.643 tests/test_screen.py .                                                   [ 66%]
#9 5.644 tests/test_segment.py .................................................  [ 71%]
#9 5.700 tests/test_spinner.py .....                                              [ 72%]
#9 5.707 tests/test_stack.py .                                                    [ 72%]
#9 5.708 tests/test_status.py ..                                                  [ 72%]
#9 5.923 tests/test_style.py ...........................                          [ 75%]
#9 5.987 tests/test_styled.py .                                                   [ 76%]
#9 5.989 tests/test_syntax.py ........................                            [ 78%]
#9 6.469 tests/test_table.py ...................                                  [ 81%]
#9 6.539 tests/test_text.py ..................................................... [ 87%]
#9 6.597 ......................................................                   [ 93%]
#9 6.672 tests/test_theme.py .....                                                [ 94%]
#9 6.681 tests/test_tools.py ....                                                 [ 94%]
#9 6.685 tests/test_traceback.py ...................                              [ 96%]
#9 6.957 tests/test_tree.py .....s.s.                                             [ 98%]
#9 6.970 tests/test_windows_renderer.py sssssssssssssssss                         [100%]
#9 7.006 
#9 7.006 ======================= 829 passed, 23 skipped in 5.96s ========================
#9 DONE 7.1s

#10 exporting to image
#10 exporting layers
#10 exporting layers 2.0s done
#10 writing image sha256:2dca548c820f46c106eba51f22423bf7bb6f79e21ddc2097d487c3b1cd640584
#10 writing image sha256:2dca548c820f46c106eba51f22423bf7bb6f79e21ddc2097d487c3b1cd640584 done
#10 naming to docker.io/library/temp_image 0.0s done
#10 DONE 2.0s
At least 1 test passed.
Docker build completed successfully on virtual machine.
removing docker image...
clearing temp directory
