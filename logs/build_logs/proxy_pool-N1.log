# Use an official Python runtime as a base image
FROM python:3.8

# Set the working directory in the container
WORKDIR /app

# Clone the repository from the provided URL
RUN git clone https://github.com/jhao104/proxy_pool.git /app/proxy_pool

# Move into the project directory
WORKDIR /app/proxy_pool

# Install the Python packages using the requirements.txt file
RUN pip install -r requirements.txt

# Install pytest
RUN pip install pytest

# Run the test suite at the end of the build process
RUN pytest -q --collect-only 2>&1 | head -n 3 | xargs pytest -sv
machine already started
TEMP DIR: /tmp/tmp.c7mnL32kEl


setup repo.
Warning: Permanently added '[localhost]:3022' (ED25519) to the list of known hosts.
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 598B done
#1 DONE 0.0s

#2 [internal] load .dockerignore
#2 transferring context: 2B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/python:3.8
#3 DONE 0.8s

#4 [1/7] FROM docker.io/library/python:3.8@sha256:01a4da15f16395a2d17dd9b673ccedcd6a6dbb4e130c8056d0d804dedac11c81
#4 resolve docker.io/library/python:3.8@sha256:01a4da15f16395a2d17dd9b673ccedcd6a6dbb4e130c8056d0d804dedac11c81 0.1s done
#4 sha256:01a4da15f16395a2d17dd9b673ccedcd6a6dbb4e130c8056d0d804dedac11c81 1.86kB / 1.86kB done
#4 sha256:340112dda59ac649527c9a8ba86f02343d981cb508161ba34ae7bb52a797e6ce 2.01kB / 2.01kB done
#4 sha256:fc6a57648aa5e9aef11fe915791e34dfce19169a2a77a312b0bd3ab40e264d7c 7.36kB / 7.36kB done
#4 sha256:891494355808bdd3db5552f0d3723fd0fa826675f774853796fafa221d850d42 24.05MB / 24.05MB 39.4s done
#4 sha256:c6cf28de8a067787ee0d08f8b01d7f1566a508b56f6e549687b41dfd375f12c7 49.58MB / 49.58MB 54.4s done
#4 extracting sha256:c6cf28de8a067787ee0d08f8b01d7f1566a508b56f6e549687b41dfd375f12c7 1.9s done
#4 extracting sha256:891494355808bdd3db5552f0d3723fd0fa826675f774853796fafa221d850d42 0.6s done
#4 sha256:6582c62583ef22717db8d306b1d6a0c288089ff607d9c0d2d81c4f8973cbfee3 64.14MB / 64.14MB 60.4s done
#4 extracting sha256:6582c62583ef22717db8d306b1d6a0c288089ff607d9c0d2d81c4f8973cbfee3 2.5s done
#4 sha256:a99509a323905a80628005e4f3bc26ac15ebaf3ffdb08a9646a7f2d110ab38f9 6.39MB / 6.39MB 64.0s done
#4 sha256:c44e905d3c51b51708b9fde83dce11f6c5b23aae56d591228cab6babac67d71f 244B / 244B 64.4s done
#4 sha256:e64bc13ba68336ce21a4ee8553c9e633c496c72408af8b4d5c45e949725b0894 2.85MB / 2.85MB 68.9s done
#4 sha256:7327cba2bf36683c119324ade7c9ed62f8a95523d745bb55658ee7f0554a3dd0 15.20MB / 15.20MB 76.2s done
#4 sha256:bf2c3e352f3d2eed4eda4feeed44a1022a881058df20ac0584db70c138b041e2 211.21MB / 211.21MB 138.0s done
#4 extracting sha256:bf2c3e352f3d2eed4eda4feeed44a1022a881058df20ac0584db70c138b041e2 6.6s done
#4 extracting sha256:a99509a323905a80628005e4f3bc26ac15ebaf3ffdb08a9646a7f2d110ab38f9 0.3s done
#4 extracting sha256:7327cba2bf36683c119324ade7c9ed62f8a95523d745bb55658ee7f0554a3dd0 0.5s done
#4 extracting sha256:c44e905d3c51b51708b9fde83dce11f6c5b23aae56d591228cab6babac67d71f done
#4 extracting sha256:e64bc13ba68336ce21a4ee8553c9e633c496c72408af8b4d5c45e949725b0894 0.2s done
#4 DONE 146.6s

#5 [2/7] WORKDIR /app
#5 DONE 0.1s

#6 [3/7] RUN git clone https://github.com/jhao104/proxy_pool.git /app/proxy_pool
#6 0.193 Cloning into '/app/proxy_pool'...
#6 DONE 1.4s

#7 [4/7] WORKDIR /app/proxy_pool
#7 DONE 0.1s

#8 [5/7] RUN pip install -r requirements.txt
#8 1.229 Ignoring APScheduler: markers 'python_version >= "3.10"' don't match your environment
#8 1.230 Ignoring click: markers 'python_version <= "3.6"' don't match your environment
#8 1.231 Ignoring Flask: markers 'python_version <= "3.6"' don't match your environment
#8 1.231 Ignoring werkzeug: markers 'python_version <= "3.6"' don't match your environment
#8 1.383 Collecting requests==2.20.0
#8 1.432   Downloading requests-2.20.0-py2.py3-none-any.whl (60 kB)
#8 1.462      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.0/61.0 kB 2.1 MB/s eta 0:00:00
#8 1.509 Collecting gunicorn==19.9.0
#8 1.518   Downloading gunicorn-19.9.0-py2.py3-none-any.whl (112 kB)
#8 1.563      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 112.9/112.9 kB 2.6 MB/s eta 0:00:00
#8 2.046 Collecting lxml==4.9.2
#8 2.058   Downloading lxml-4.9.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (7.1 MB)
#8 4.707      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.1/7.1 MB 2.7 MB/s eta 0:00:00
#8 4.853 Collecting redis==3.5.3
#8 4.874   Downloading redis-3.5.3-py2.py3-none-any.whl (72 kB)
#8 5.050      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 72.1/72.1 kB 398.8 kB/s eta 0:00:00
#8 5.126 Collecting APScheduler==3.2.0
#8 5.137   Downloading APScheduler-3.2.0-py2.py3-none-any.whl (52 kB)
#8 5.159      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 52.2/52.2 kB 2.5 MB/s eta 0:00:00
#8 5.207 Collecting click==8.0.1
#8 5.222   Downloading click-8.0.1-py3-none-any.whl (97 kB)
#8 5.254      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 97.4/97.4 kB 3.3 MB/s eta 0:00:00
#8 5.300 Collecting Flask==2.1.1
#8 5.312   Downloading Flask-2.1.1-py3-none-any.whl (95 kB)
#8 5.356      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 95.2/95.2 kB 3.4 MB/s eta 0:00:00
#8 5.412 Collecting werkzeug==2.1.0
#8 5.509   Downloading Werkzeug-2.1.0-py3-none-any.whl (224 kB)
#8 5.585      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 224.6/224.6 kB 3.0 MB/s eta 0:00:00
#8 5.664 Collecting urllib3<1.25,>=1.21.1
#8 5.672   Downloading urllib3-1.24.3-py2.py3-none-any.whl (118 kB)
#8 5.717      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 118.8/118.8 kB 3.0 MB/s eta 0:00:00
#8 5.749 Collecting chardet<3.1.0,>=3.0.2
#8 5.757   Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)
#8 5.802      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.4/133.4 kB 5.1 MB/s eta 0:00:00
#8 5.850 Collecting certifi>=2017.4.17
#8 5.859   Downloading certifi-2024.6.2-py3-none-any.whl (164 kB)
#8 5.920      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 164.4/164.4 kB 2.9 MB/s eta 0:00:00
#8 5.969 Collecting idna<2.8,>=2.5
#8 5.979   Downloading idna-2.7-py2.py3-none-any.whl (58 kB)
#8 6.005      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.2/58.2 kB 3.6 MB/s eta 0:00:00
#8 6.130 Collecting pytz
#8 6.156   Downloading pytz-2024.1-py2.py3-none-any.whl (505 kB)
#8 6.333      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 505.5/505.5 kB 3.1 MB/s eta 0:00:00
#8 6.386 Collecting tzlocal>=1.2
#8 6.397   Downloading tzlocal-5.2-py3-none-any.whl (17 kB)
#8 6.442 Collecting six>=1.4.0
#8 6.458   Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)
#8 6.469 Requirement already satisfied: setuptools>=0.7 in /usr/local/lib/python3.8/site-packages (from APScheduler==3.2.0->-r requirements.txt (line 6)) (57.5.0)
#8 6.627 Collecting importlib-metadata>=3.6.0
#8 6.637   Downloading importlib_metadata-7.1.0-py3-none-any.whl (24 kB)
#8 6.712 Collecting itsdangerous>=2.0
#8 6.721   Downloading itsdangerous-2.2.0-py3-none-any.whl (16 kB)
#8 6.784 Collecting Jinja2>=3.0
#8 6.797   Downloading jinja2-3.1.4-py3-none-any.whl (133 kB)
#8 6.845      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.3/133.3 kB 3.3 MB/s eta 0:00:00
#8 6.929 Collecting zipp>=0.5
#8 6.937   Downloading zipp-3.19.2-py3-none-any.whl (9.0 kB)
#8 7.069 Collecting MarkupSafe>=2.0
#8 7.078   Downloading MarkupSafe-2.1.5-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (26 kB)
#8 7.140 Collecting backports.zoneinfo
#8 7.150   Downloading backports.zoneinfo-0.2.1-cp38-cp38-manylinux1_x86_64.whl (74 kB)
#8 7.184      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 74.0/74.0 kB 5.1 MB/s eta 0:00:00
#8 7.323 Installing collected packages: pytz, idna, chardet, zipp, werkzeug, urllib3, six, redis, MarkupSafe, lxml, itsdangerous, gunicorn, click, certifi, backports.zoneinfo, tzlocal, requests, Jinja2, importlib-metadata, Flask, APScheduler
#8 8.409 Successfully installed APScheduler-3.2.0 Flask-2.1.1 Jinja2-3.1.4 MarkupSafe-2.1.5 backports.zoneinfo-0.2.1 certifi-2024.6.2 chardet-3.0.4 click-8.0.1 gunicorn-19.9.0 idna-2.7 importlib-metadata-7.1.0 itsdangerous-2.2.0 lxml-4.9.2 pytz-2024.1 redis-3.5.3 requests-2.20.0 six-1.16.0 tzlocal-5.2 urllib3-1.24.3 werkzeug-2.1.0 zipp-3.19.2
#8 8.409 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#8 8.534 
#8 8.534 [notice] A new release of pip is available: 23.0.1 -> 24.0
#8 8.534 [notice] To update, run: pip install --upgrade pip
#8 DONE 8.7s

#9 [6/7] RUN pip install pytest
#9 0.820 Collecting pytest
#9 0.866   Downloading pytest-8.2.2-py3-none-any.whl (339 kB)
#9 0.973      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 339.9/339.9 kB 3.4 MB/s eta 0:00:00
#9 1.022 Collecting exceptiongroup>=1.0.0rc8
#9 1.031   Downloading exceptiongroup-1.2.1-py3-none-any.whl (16 kB)
#9 1.063 Collecting iniconfig
#9 1.070   Downloading iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#9 1.129 Collecting packaging
#9 1.139   Downloading packaging-24.0-py3-none-any.whl (53 kB)
#9 1.163      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 53.5/53.5 kB 4.1 MB/s eta 0:00:00
#9 1.196 Collecting pluggy<2.0,>=1.5
#9 1.204   Downloading pluggy-1.5.0-py3-none-any.whl (20 kB)
#9 1.266 Collecting tomli>=1
#9 1.275   Downloading tomli-2.0.1-py3-none-any.whl (12 kB)
#9 1.393 Installing collected packages: tomli, pluggy, packaging, iniconfig, exceptiongroup, pytest
#9 1.666 Successfully installed exceptiongroup-1.2.1 iniconfig-2.0.0 packaging-24.0 pluggy-1.5.0 pytest-8.2.2 tomli-2.0.1
#9 1.666 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 1.672 
#9 1.672 [notice] A new release of pip is available: 23.0.1 -> 24.0
#9 1.672 [notice] To update, run: pip install --upgrade pip
#9 DONE 1.8s

#10 [7/7] RUN pytest -q --collect-only 2>&1 | head -n 3 | xargs pytest -sv
#10 0.721 ============================= test session starts ==============================
#10 0.721 platform linux -- Python 3.8.19, pytest-8.2.2, pluggy-1.5.0 -- /usr/local/bin/python
#10 0.721 cachedir: .pytest_cache
#10 0.721 rootdir: /app/proxy_pool
#10 0.721 collecting ... collected 0 items
#10 0.723 
#10 0.723 ============================ no tests ran in 0.00s =============================
#10 0.723 ERROR: file or directory not found: no
#10 0.723 
#10 ERROR: process "/bin/sh -c pytest -q --collect-only 2>&1 | head -n 3 | xargs pytest -sv" did not complete successfully: exit code: 123
------
 > [7/7] RUN pytest -q --collect-only 2>&1 | head -n 3 | xargs pytest -sv:
collected 0 items
0.723 
0.723 ============================ no tests ran in 0.00s =============================
0.723 ERROR: file or directory not found: no
0.723 
------
Dockerfile:20
--------------------
  18 |     
  19 |     # Run the test suite at the end of the build process
  20 | >>> RUN pytest -q --collect-only 2>&1 | head -n 3 | xargs pytest -sv
--------------------
ERROR: failed to solve: process "/bin/sh -c pytest -q --collect-only 2>&1 | head -n 3 | xargs pytest -sv" did not complete successfully: exit code: 123
removing docker image...
clearing temp directory
